-- phpMyAdmin SQL Dump
-- version 3.4.10.1deb1
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Mar 25, 2013 at 12:29 PM
-- Server version: 5.5.28
-- PHP Version: 5.3.10-1ubuntu3.4

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `blog`
--

-- --------------------------------------------------------

--
-- Table structure for table `comment`
--

CREATE TABLE IF NOT EXISTS `comment` (
  `comment_id` int(11) NOT NULL AUTO_INCREMENT,
  `entry_id` int(11) NOT NULL,
  `comment_name` varchar(255) NOT NULL,
  `comment_email` varchar(255) NOT NULL,
  `comment_body` text NOT NULL,
  `comment_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `user_id` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`comment_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `entry`
--

CREATE TABLE IF NOT EXISTS `entry` (
  `entry_id` int(11) NOT NULL AUTO_INCREMENT,
  `author_id` int(11) NOT NULL,
  `entry_name` varchar(255) NOT NULL,
  `entry_body` text NOT NULL,
  `entry_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `comment_count` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`entry_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=8 ;

--
-- Dumping data for table `entry`
--

INSERT INTO `entry` (`entry_id`, `author_id`, `entry_name`, `entry_body`, `entry_date`, `comment_count`) VALUES
(1, 1, 'Part1-Ajax Live Search Using PHP Mysql Jquery ', '<font face="arial" size=''4'' color=''red'' background=''red''><a href="http://ajaxlive.comli.com/demo_search.php">LIVE DEMO HERE</a>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<a href="http://ajaxlive.comli.com/demo_search.tar.gz">Download Source Code Here</a></font><br>\r\n<font face="arial" size="2">This is a ajax,jquery,php,mysql tutorial which demonstrates a live search function and shows the result in the same page without refreshing.<div id=''show''></font><div><font face="arial" size="2"><br></font></div><div><font face="arial" size="2">First, let''s create a database demo and a table persons:</font></div><div><font face="arial" size="2"><br></font></div><br>\r\n<blockquote><font size="2"><font color="#990099">CREATE</font>&nbsp;<font color="#990099">TABLE</font>&nbsp;<font color="#990099">IF&nbsp;<font color="#CC0099">NOT</font>&nbsp;EXISTS</font>&nbsp;<font color="#008000">`persons`</font>&nbsp;<font color="#FF00FF">(</font><br>\r\n&nbsp;&nbsp;<font color="#008000">`id`</font>&nbsp;<font color="#999900">int</font><font color="#FF00FF">(</font><font color="#008080">128</font><font color="#FF00FF">)</font>&nbsp;<font color="#CC0099">NOT</font>&nbsp;<font color="#9900FF">NULL</font>&nbsp;<font color="#FF9900">AUTO_INCREMENT</font><font color="#000033">,</font><br>\r\n&nbsp;&nbsp;<font color="#008000">`name`</font>&nbsp;<font color="#999900">varchar</font><font color="#FF00FF">(</font><font color="#008080">128</font><font color="#FF00FF">)</font>&nbsp;<font color="#CC0099">NOT</font>&nbsp;<font color="#9900FF">NULL</font><font color="#000033">,</font><br>\r\n&nbsp;&nbsp;<font color="#008000">`Surname`</font>&nbsp;<font color="#999900">varchar</font><font color="#FF00FF">(</font><font color="#008080">32</font><font color="#FF00FF">)</font>&nbsp;<font color="#CC0099">NOT</font>&nbsp;<font color="#9900FF">NULL</font><font color="#000033">,</font><br>\r\n&nbsp;&nbsp;<font color="#008000">`image`</font>&nbsp;<font color="#999900">varchar</font><font color="#FF00FF">(</font><font color="#008080">128</font><font color="#FF00FF">)</font>&nbsp;<font color="#CC0099">NOT</font>&nbsp;<font color="#9900FF">NULL</font><font color="#000033">,</font><br>\r\n&nbsp;&nbsp;<font color="#990099">PRIMARY&nbsp;KEY</font>&nbsp;<font color="#FF00FF">(</font><font color="#008000">`id`</font><font color="#FF00FF">)</font><br>\r\n<font color="#FF00FF">)</font>&nbsp;<font color="#990099">ENGINE</font><font color="#CC0099">=</font>MyISAM&nbsp;&nbsp;<font color="#990099">DEFAULT</font>&nbsp;<font color="#FF9900">CHARSET</font><font color="#CC0099">=</font>latin1&nbsp;<font color="#FF9900">AUTO_INCREMENT</font><font color="#CC0099">=</font><font color="#008080">7</font>&nbsp;<font color="#000033">;</font></font></blockquote>Insert Data into table:\r\n<div><br></div><br>\r\n<blockquote><font size="2"><font color="#990099">INSERT</font>&nbsp;<font color="#990099">INTO</font>&nbsp;<font color="#008000">`persons`</font>&nbsp;<font color="#FF00FF">(</font><font color="#008000">`id`</font><font color="#000033">,</font>&nbsp;<font color="#008000">`name`</font><font color="#000033">,</font>&nbsp;<font color="#008000">`Surname`</font><font color="#000033">,</font>&nbsp;<font color="#008000">`image`</font><font color="#FF00FF">)</font>&nbsp;<font color="#990099">VALUES</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">1</font><font color="#000033">,</font>&nbsp;<font color="#008000">''john''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Doe''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/1<font color="#008080">_</font>m.jpg''</font><font color="#FF00FF">)</font><font color="#000033">,</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">2</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Maria''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Doe''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/1<font color="#008080">_</font>f.jpg''</font><font color="#FF00FF">)</font><font color="#000033">,</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">3</font><font color="#000033">,</font>&nbsp;<font color="#008000">''George''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Newsted''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/2<font color="#008080">_</font>m.jpg''</font><font color="#FF00FF">)</font><font color="#000033">,</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">4</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Sylia''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Maria''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/2<font color="#008080">_</font>f.jpg''</font><font color="#FF00FF">)</font><font color="#000033">,</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">5</font><font color="#000033">,</font>&nbsp;<font color="#008000">''john''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Newsted''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/3<font color="#008080">_</font>m.jpg''</font><font color="#FF00FF">)</font><font color="#000033">,</font><br>\r\n<font color="#FF00FF">(</font><font color="#008080">6</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Sylia''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''Doe''</font><font color="#000033">,</font>&nbsp;<font color="#008000">''your<font color="#008080">_</font>path/3<font color="#008080">_</font>f.jpg''</font><font color="#FF00FF">)</font><font color="#000033">;</font></font></blockquote>\r\nCreate db.php for connection to database:<div><br></div>\r\n\r\n</font><blockquote><font size="2"><font color="#000000">&lt;?php</font><br>\r\n<font color="#990000">mysql_connect</font><font color="#009900">(</font><font color="#0000ff">"localhost"</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">"root"</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">"your_password"</font><font color="#009900">)</font>&nbsp;or<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;<font color="#990000">die</font><font color="#009900">(</font><font color="#0000ff">"Could&nbsp;not&nbsp;connect:&nbsp;"</font>&nbsp;<font color="#339933">.</font>&nbsp;<font color="#990000">mysql_error</font><font color="#009900">(</font><font color="#009900">)</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n<font color="#990000">mysql_select_db</font><font color="#009900">(</font><font color="#0000ff">"demo"</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n&nbsp;<br>\r\n<font color="#000000">?&gt;</font></font></blockquote></blockquote><br></div>', '2013-03-20 06:11:01', 0),
(2, 1, 'Part2-Ajax Live Search Using PHP Mysql Jquery', '<font size="4"><a href="http://ajaxlive.comli.com/demo_search.php" title="LIVE DEMO HERE" target="_blank">LIVE DEMO HERE</a></font><br><div><font size="1">In part two we will create the client side code with html,css.</font></div><div><font size="2">1)<i>In html we create a &nbsp;textbox for user input and a select form with name or surname choice.div content and subcontent</i></font></div><div><font size="2"><i>are used to show the result.</i></font></div><div><font size="2"><i>Create file demo_search.php</i></font></div><div id=''show1''><div><font size="2"><i><br></i></font></div>\r\n\r\n<pre style="background:rgba(238,238,238,0.92);color:#000"><span style="color:#03c">&lt;<span style="font-weight:700">body</span>></span>\r\n\r\n<span style="color:#03c">&lt;<span style="font-weight:700">h1</span>></span>Ajax Tutorial: How to Create Ajax Search Using PHP jQuery and MYSQL<span style="color:#03c">&lt;/<span style="font-weight:700">h1</span>></span>\r\n\r\n<span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">class</span>=<span style="color:#093">"textBox"</span>></span>\r\n\r\n<span style="color:#03c">&lt;<span style="font-weight:700">input</span> <span style="color:#36c;font-style:italic">type</span>=<span style="color:#093">"text"</span> <span style="color:#36c;font-style:italic">value</span>=<span style="color:#093">""</span> <span style="color:#36c;font-style:italic">maxlength</span>=<span style="color:#093">"100"</span> <span style="color:#36c;font-style:italic">name</span>=<span style="color:#093">"searchBox"</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"search"</span> <span style="color:#36c;font-style:italic">onkeyup</span>=<span style="color:#093">"getResults(this.value)"</span>/></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">class</span>=<span style="color:#093">"searchBtn"</span>></span>\r\n\r\n        <span style="color:#6782d3">&amp;nbsp;</span>\r\n\r\n        <span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n        <span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"choice"</span>></span>\r\n        <span style="color:#03c">&lt;<span style="font-weight:700">form</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"form"</span>></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">select</span> <span style="color:#36c;font-style:italic">style</span>=<span style="color:#093">"font-size:18px"</span> <span style="color:#36c;font-style:italic">name</span>=<span style="color:#093">"users"</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"select"</span> <span style="color:#36c;font-style:italic">onchange</span>=<span style="color:#093">"showUser(this.value)"</span>></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">option</span> <span style="color:#36c;font-style:italic">selected</span>=<span style="color:#093">"selected"</span>></span>Please select first a category<span style="color:#03c">&lt;/<span style="font-weight:700">option</span>></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">option</span>   <span style="color:#36c;font-style:italic">value</span>=<span style="color:#093">"name"</span>  ></span>First Name<span style="color:#03c">&lt;/<span style="font-weight:700">option</span>></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">option</span> <span style="color:#36c;font-style:italic">value</span>=<span style="color:#093">"Surname"</span>></span>Surname<span style="color:#03c">&lt;/<span style="font-weight:700">option</span>></span>\r\n<span style="color:#03c">&lt;/<span style="font-weight:700">select</span>></span>\r\n<span style="color:#03c">&lt;/<span style="font-weight:700">form</span>></span>\r\n<span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n<span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n\r\n    <span style="color:#03c">&lt;<span style="font-weight:700">br</span> <span style="color:#36c;font-style:italic">clear</span>=<span style="color:#093">"all"</span> /></span>\r\n\r\n    <span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"content"</span>></span>\r\n\r\n        <span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">class</span>=<span style="color:#093">"search-background"</span>></span>\r\n\r\n            <span style="color:#03c">&lt;<span style="font-weight:700">label</span>></span><span style="color:#03c">&lt;<span style="font-weight:700">img</span> <span style="color:#36c;font-style:italic">src</span>=<span style="color:#093">"loader.gif"</span> <span style="color:#36c;font-style:italic">alt</span>=<span style="color:#093">""</span> /></span><span style="color:#03c">&lt;/<span style="font-weight:700">label</span>></span>\r\n\r\n        <span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n\r\n        <span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"sub_cont"</span>></span>\r\n                <span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n                <span style="color:#03c">&lt;/<span style="font-weight:700">div</span>></span>\r\n\r\n    <span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"txtHint"</span>>&lt;/<span style="font-weight:700">div</span>></span>\r\n\r\n<span style="color:#03c">&lt;<span style="font-weight:700">br</span> <span style="color:#36c;font-style:italic">clear</span>=<span style="color:#093">"all"</span> /></span><span style="color:#03c">&lt;<span style="font-weight:700">br</span> <span style="color:#36c;font-style:italic">clear</span>=<span style="color:#093">"all"</span> /></span><span style="color:#03c">&lt;<span style="font-weight:700">br</span> <span style="color:#36c;font-style:italic">clear</span>=<span style="color:#093">"all"</span> /></span>\r\n<span style="color:#03c">&lt;<span style="font-weight:700">div</span> <span style="color:#36c;font-style:italic">id</span>=<span style="color:#093">"results"</span>>&lt;/<span style="font-weight:700">div</span>></span>\r\n\r\n<span style="color:#03c">&lt;/<span style="font-weight:700">body</span>></span>\r\n</pre><br>2)Use this &nbsp;for css.<div><br></div>\r\n<pre style="background:rgba(238,238,238,0.92);color:#000"><span style="color:#06f;font-style:italic">/* CSS Document */</span>\r\n<span style="color:#36c;font-style:italic">.searchBtn</span>\r\n\r\n    {\r\n\r\n        <span style="color:#33f;font-weight:700">float</span>:<span style="color:#6782d3">left</span>;<span style="color:#33f;font-weight:700">cursor</span>:<span style="color:#6782d3">pointer</span>;<span style="color:#33f;font-weight:700">width</span>:<span style="color:#06f">44<span style="color:#00f">px</span></span>;<span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">38<span style="color:#00f">px</span></span>;<span style="color:#33f;font-weight:700">line-height</span>:<span style="color:#06f">15<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">background-image</span>:<span style="color:#33f;font-weight:700">url</span>(<span style="font-style:italic">search_ico.PNG</span>);\r\n\r\n        <span style="color:#33f;font-weight:700">background-position</span>:<span style="color:#6782d3">left</span> <span style="color:#06f">0</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">background-repeat</span>:<span style="color:#6782d3">no-repeat</span>;\r\n                    \r\n    }\r\n\r\n<span style="font-weight:700">form</span>{\r\n    <span style="color:#33f;font-weight:700">margin-right</span>: <span style="color:#06f">1000<span style="color:#00f">px</span></span>;\r\n}\r\n\r\n\r\n<span style="color:#36c;font-style:italic">.searchProgress</span>\r\n\r\n    {\r\n\r\n        <span style="color:#33f;font-weight:700">background-image</span>:<span style="color:#33f;font-weight:700">url</span>(<span style="font-style:italic">4.gif</span>);<span style="color:#33f;font-weight:700">background-position</span>:<span style="color:#6782d3">left</span> <span style="color:#06f">0</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">float</span>:<span style="color:#6782d3">left</span>;<span style="color:#33f;font-weight:700">cursor</span>:<span style="color:#6782d3">pointer</span>;<span style="color:#33f;font-weight:700">width</span>:<span style="color:#06f">44<span style="color:#00f">px</span></span>;<span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">38<span style="color:#00f">px</span></span>;<span style="color:#33f;font-weight:700">line-height</span>:<span style="color:#06f">15<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">background-repeat</span>:<span style="color:#6782d3">no-repeat</span>;\r\n\r\n    }\r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">.textBox</span> <span style="font-weight:700">input</span> \r\n\r\n    {\r\n\r\n        <span style="color:#33f;font-weight:700">color</span>:<span style="color:#6782d3">#999999</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">font</span>:<span style="color:#6782d3">bold</span> <span style="color:#06f">14<span style="color:#00f">px</span></span> <span style="color:#6782d3">arial</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">float</span>:<span style="color:#6782d3">left</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">20<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">padding</span>:<span style="color:#06f">12<span style="color:#00f">px</span></span> <span style="color:#06f">0</span> <span style="color:#06f">0</span> <span style="color:#06f">9<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">vertical-align</span>:<span style="color:#6782d3">middle</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">width</span>:<span style="color:#06f">432<span style="color:#00f">px</span></span>;\r\n\r\n    }\r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">#content</span>{\r\n\r\n        <span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">400<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">text-align</span>: <span style="color:#6782d3">center</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">text-decoration</span>: <span style="color:#6782d3">none</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">490<span style="color:#00f">px</span></span>;\r\n\r\n        }\r\n\r\n        \r\n\r\n<span style="color:#36c;font-style:italic">#content</span> <span style="color:#36c;font-style:italic">#sub_cont</span>{\r\n\r\n    <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">490<span style="color:#00f">px</span></span>;\r\n\r\n\r\n    <span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">400<span style="color:#00f">px</span></span>;\r\n\r\n}\r\n\r\n<span style="color:#36c;font-style:italic">#content</span> <span style="color:#36c;font-style:italic">.no-rec</span>{\r\n\r\n    <span style="color:#33f;font-weight:700">color</span>:<span style="color:#6782d3">#000</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-family</span>:<span style="color:#6782d3">Arial</span>, <span style="color:#6782d3">Helvetica</span>, <span style="color:#6782d3">sans-serif</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-size</span>:<span style="color:#06f">14<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">padding</span>:<span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">border-bottom</span>:<span style="color:#6782d3">solid</span> <span style="color:#6782d3">#669900</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">text-align</span>:<span style="color:#6782d3">center</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">background</span>:<span style="color:#6782d3">#CCCC66</span>;\r\n\r\n}\r\n\r\n<span style="color:#36c;font-style:italic">#content</span> <span style="color:#36c;font-style:italic">.each_rec</span>{\r\n\r\n\r\n\r\n    <span style="color:#33f;font-weight:700">color</span>:<span style="color:#6782d3">#fff</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-family</span>:<span style="color:#6782d3">Arial</span>, <span style="color:#6782d3">Helvetica</span>, <span style="color:#6782d3">sans-serif</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-size</span>:<span style="color:#06f">14<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">padding</span>:<span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">border-bottom</span>:<span style="color:#6782d3">solid</span> <span style="color:#6782d3">#669900</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">text-align</span>:<span style="color:#6782d3">justify</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">background</span>:<span style="color:#6782d3">#CCCC66</span>;\r\n\r\n}\r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">#content</span> <span style="color:#36c;font-style:italic">.each_rec</span><span style="color:#36c;font-style:italic">:hover</span>{\r\n\r\n    <span style="color:#33f;font-weight:700">background</span>:<span style="color:#6782d3">#FFFFFF</span>;\r\n\r\n}\r\n\r\n<span style="color:#36c;font-style:italic">#content</span> <span style="color:#36c;font-style:italic">.each_rec</span> <span style="font-weight:700">a</span>{\r\n\r\n    <span style="color:#33f;font-weight:700">color</span>:<span style="color:#6782d3">#000</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-family</span>:<span style="color:#6782d3">Arial</span>, <span style="color:#6782d3">Helvetica</span>, <span style="color:#6782d3">sans-serif</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-size</span>:<span style="color:#06f">14<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">text-decoration</span>:<span style="color:#6782d3">none</span>\r\n\r\n}       \r\n\r\n<span style="color:#36c;font-style:italic">.search-background</span> {\r\n\r\n        <span style="color:#33f;font-weight:700">display</span>: <span style="color:#6782d3">none</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">font-size</span>: <span style="color:#06f">13<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">font-weight</span>: <span style="color:#6782d3">bold</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">160<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">position</span>: <span style="color:#6782d3">absolute</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">padding-top</span>:<span style="color:#06f">100<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">text-align</span>: <span style="color:#6782d3">center</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">text-decoration</span>: <span style="color:#6782d3">none</span>;\r\n\r\n        <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">470<span style="color:#00f">px</span></span>;\r\n\r\n    }\r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">#heading</span>\r\n\r\n{\r\n\r\n    <span style="color:#33f;font-weight:700">font-family</span>:<span style="color:#6782d3">Georgia</span>, <span style="color:#093">"Times New Roman"</span>, <span style="color:#6782d3">Times</span>, <span style="color:#6782d3">serif</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-size</span>:<span style="color:#06f">56<span style="color:#00f">px</span></span>;\r\n\r\n    <span style="color:#33f;font-weight:700">color</span>:<span style="color:#6782d3">#CC0000</span>;              \r\n\r\n}\r\n\r\n <span style="font-weight:700">body</span>{\r\n\r\n    <span style="color:#33f;font-weight:700">text-align</span>:<span style="color:#6782d3">center</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-family</span>:<span style="color:#6782d3">Arial</span>, <span style="color:#6782d3">Sans-Serif</span>;\r\n\r\n    <span style="color:#33f;font-weight:700">font-size</span>:<span style="color:#06f">0.75<span style="color:#00f">em</span></span>;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nsearch-background <span style="font-weight:700">label</span>\r\n\r\n{   \r\n\r\n    <span style="color:#33f;font-weight:700">border</span>:<span style="color:#6782d3">solid</span> <span style="color:#6782d3">#66FF00</span> <span style="color:#06f">1<span style="color:#00f">px</span></span>;\r\n\r\n}   \r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">#paging_button</span> <span style="font-weight:700">ul</span>{ <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">600<span style="color:#00f">px</span></span>; <span style="color:#33f;font-weight:700">padding</span>:<span style="color:#06f">0<span style="color:#00f">px</span></span>; <span style="color:#33f;font-weight:700">margin</span>:<span style="color:#06f">8<span style="color:#00f">px</span></span>;}\r\n\r\n\r\n\r\n<span style="color:#36c;font-style:italic">#paging_button</span> <span style="font-weight:700">ul</span> <span style="font-weight:700">li</span>{\r\n\r\n        -moz-<span style="color:#33f;font-weight:700">border-radius</span>: <span style="color:#06f">6<span style="color:#00f">px</span></span>; \r\n\r\n        -webkit-<span style="color:#33f;font-weight:700">border-radius</span>: <span style="color:#06f">6<span style="color:#00f">px</span></span>;\r\n\r\n        -moz-<span style="color:#33f;font-weight:700">box-shadow</span>: <span style="color:#06f">0</span> <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#06f">3<span style="color:#00f">px</span></span> <span style="color:#33f;font-weight:700">rgba</span>(<span style="color:#6782d3">0,0,0,0.6</span>);\r\n\r\n        -webkit-<span style="color:#33f;font-weight:700">box-shadow</span>: <span style="color:#06f">0</span> <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#06f">3<span style="color:#00f">px</span></span> <span style="color:#33f;font-weight:700">rgba</span>(<span style="color:#6782d3">0,0,0,0.6</span>);\r\n\r\n        <span style="color:#33f;font-weight:700">float</span>:<span style="color:#6782d3">left</span>; <span style="color:#33f;font-weight:700">height</span>:<span style="color:#06f">20<span style="color:#00f">px</span></span>; <span style="color:#33f;font-weight:700">width</span>:<span style="color:#06f">20<span style="color:#00f">px</span></span>; <span style="color:#33f;font-weight:700">list-style-image</span>:<span style="color:#6782d3">none</span>; \r\n\r\n        <span style="color:#33f;font-weight:700">list-style-type</span>:<span style="color:#6782d3">none</span>; <span style="color:#33f;font-weight:700">font-weight</span>:<span style="color:#6782d3">bold</span>; <span style="color:#33f;font-weight:700">border</span>:<span style="color:#6782d3">solid</span> <span style="color:#6782d3">#CCCCCC</span> <span style="color:#06f">1<span style="color:#00f">px</span></span>;\r\n\r\n        <span style="color:#33f;font-weight:700">margin</span>:<span style="color:#06f">3<span style="color:#00f">px</span></span>; <span style="color:#33f;font-weight:700">cursor</span>:<span style="color:#6782d3">pointer</span>;\r\n\r\n    }\r\n\r\n\r\n\r\n<span style="font-weight:700">li</span><span style="color:#36c;font-style:italic">:hover</span>{ <span style="color:#33f;font-weight:700">color</span>: <span style="color:#6782d3">#CC0000</span>; <span style="color:#33f;font-weight:700">cursor</span>: <span style="color:#6782d3">pointer</span>; }\r\n</pre></div>', '2013-03-20 05:34:41', 0),
(3, 1, 'Part3-Ajax Live Search Using PHP Mysql Jquery', '<font size="4"><a href="http://ajaxlive.comli.com/demo_search.php" title="LIVE DEMO HERE" target="">LIVE DEMO HERE</a></font><br><div><br></div><div>Now we need to make jquery and ajax code.We need three scripts to 1)post the input of user in php script 2)get the selected category from the user (name or surname) 3)show the result of the search int the same page without refreshing.</div><div><br></div><div>1)This script uses ajax in jquery.In input form we use attribute&nbsp;onkeyup="getResults(this.value)".This will execute &nbsp;the script when the user starts to type.The value of val variable will be posted on do_search.php and the result will be shown in content sub_content &nbsp;divs.</div>\r\n<div id="show2">\r\n<blockquote><font size="2"><font color="#339933">&lt;</font>script<font color="#339933">&gt;</font><br>\r\n&nbsp;<br>\r\n<font color="#003366">function</font>&nbsp;getResults<font color="#009900">(</font>value<font color="#009900">)</font><font color="#009900">{</font><br>\r\n  $.<font color="#660066">post</font><font color="#009900">(</font><font color="#3366CC">"http://localhost/demo_search/do_search.php"</font><font color="#339933">,</font><font color="#009900">{</font>val<font color="#339933">:</font>value<font color="#009900">}</font><font color="#339933">,</font><font color="#003366">function</font><font color="#009900">(</font>data<font color="#009900">)</font><font color="#009900">{</font><br>\r\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<font color="#009900">(</font><font color="#3366CC">"#content&nbsp;#sub_cont"</font><font color="#009900">)</font>.<font color="#660066">html</font><font color="#009900">(</font>data<font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n <font color="#009900">}</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n&nbsp;<br>\r\n <font color="#009900">}</font><br>\r\n<font color="#339933">&lt;/</font>script<font color="#339933">&gt;</font></font></blockquote>2)In select form we use attribute onchange="showUser(this.value)".When the user will change category the value (name or surname) &nbsp;will be posted via ajax in &nbsp;the &nbsp;file session.php which wiil get the variable q and store it into a session.<div><br>\r\n<blockquote><font size="2"><font color="#003366">function</font>&nbsp;showUser<font color="#009900">(</font>str<font color="#009900">)</font><br>\r\n<font color="#009900">{</font><br>\r\n<font color="#000066">if</font>&nbsp;<font color="#009900">(</font>str<font color="#339933">==</font><font color="#3366CC">""</font><font color="#009900">)</font><br>\r\n&nbsp;&nbsp;<font color="#009900">{</font><br>\r\n&nbsp;&nbsp;document.<font color="#660066">getElementById</font><font color="#009900">(</font><font color="#3366CC">"txtHint"</font><font color="#009900">)</font>.<font color="#660066">innerHTML</font><font color="#339933">=</font><font color="#3366CC">""</font><font color="#339933">;</font><br>\r\n&nbsp;&nbsp;<font color="#000066">return</font><font color="#339933">;</font><br>\r\n&nbsp;&nbsp;<font color="#009900">}</font><br>\r\n<font color="#000066">if</font>&nbsp;<font color="#009900">(</font>window.<font color="#660066">XMLHttpRequest</font><font color="#009900">)</font><br>\r\n&nbsp;&nbsp;<font color="#009900">{</font><font color="#006600">//&nbsp;code&nbsp;for&nbsp;IE7+,&nbsp;Firefox,&nbsp;Chrome,&nbsp;Opera,&nbsp;Safari</font><br>\r\n&nbsp;&nbsp;xmlhttp<font color="#339933">=</font><font color="#003366">new</font>&nbsp;XMLHttpRequest<font color="#009900">(</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;&nbsp;<font color="#009900">}</font><br>\r\n<font color="#000066">else</font><br>\r\n&nbsp;&nbsp;<font color="#009900">{</font><font color="#006600">//&nbsp;code&nbsp;for&nbsp;IE6,&nbsp;IE5</font><br>\r\n&nbsp;&nbsp;xmlhttp<font color="#339933">=</font><font color="#003366">new</font>&nbsp;ActiveXObject<font color="#009900">(</font><font color="#3366CC">"Microsoft.XMLHTTP"</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;&nbsp;<font color="#009900">}</font><br>\r\nxmlhttp.<font color="#660066">onreadystatechange</font><font color="#339933">=</font><font color="#003366">function</font><font color="#009900">(</font><font color="#009900">)</font><br>\r\n&nbsp;&nbsp;<font color="#009900">{</font><br>\r\n&nbsp;&nbsp;<font color="#000066">if</font>&nbsp;<font color="#009900">(</font>xmlhttp.<font color="#660066">readyState</font><font color="#339933">==</font><font color="#CC0000">4</font>&nbsp;<font color="#339933">&amp;&amp;</font>&nbsp;xmlhttp.<font color="#000066">status</font><font color="#339933">==</font><font color="#CC0000">200</font><font color="#009900">)</font><br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009900">{</font><br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;document.<font color="#660066">getElementById</font><font color="#009900">(</font><font color="#3366CC">"txtHint"</font><font color="#009900">)</font>.<font color="#660066">innerHTML</font><font color="#339933">=</font>xmlhttp.<font color="#660066">responseText</font><font color="#339933">;</font><br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009900">}</font><br>\r\n&nbsp;&nbsp;<font color="#009900">}</font><br>\r\n&nbsp;<br>\r\nxmlhttp.<font color="#000066">open</font><font color="#009900">(</font><font color="#3366CC">"GET"</font><font color="#339933">,</font><font color="#3366CC">"http://localhost/demo_search/session.php?q="+</font>str<font color="#339933">,</font><font color="#003366">true</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\nxmlhttp.<font color="#660066">send</font><font color="#009900">(</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n<font color="#009900">}</font><br>\r\n<font color="#339933">&lt;/</font>script<font color="#339933">&gt;</font><br>\r\n&nbsp;</font></blockquote>Create file session.php.</div><div><br>\r\n<blockquote><font size="2"><font color="#000000">&lt;?php</font><br>\r\n<font color="#990000">session_start</font><font color="#009900">(</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n<font color="#000088">$q</font><font color="#339933">=</font><font color="#000088">$_GET</font><font color="#009900">[</font><font color="#0000ff">"q"</font><font color="#009900">]</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n<font color="#000088">$_SESSION</font><font color="#009900">[</font><font color="#0000ff">"field"</font><font color="#009900">]</font><font color="#339933">=</font><font color="#000088">$q</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n<font color="#000000">?&gt;</font>&nbsp;</font></blockquote></div>\r\n<div>3)Third script will load the search result into the page without refreshing.</div>\r\n<blockquote><font size="2"><font color="#339933">&lt;</font>script&nbsp;language<font color="#339933">=</font><font color="#3366CC">&quot;javascript&quot;</font><font color="#339933">&gt;</font><br/>\r\n&nbsp;<br/>\r\n$<font color="#009900">&#40;</font>document<font color="#009900">&#41;</font>.<font color="#660066">ready</font><font color="#009900">&#40;</font><font color="#003366">function</font><font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n	<font color="#006600">//show&nbsp;loading&nbsp;bar</font><br/>\r\n	<font color="#003366">function</font>&nbsp;showLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">''.search-background''</font><font color="#009900">&#41;</font>.<font color="#660066">fadeIn</font><font color="#009900">&#40;</font><font color="#CC0000">200</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n	<font color="#009900">&#125;</font><br/>\r\n&nbsp;<br/>\r\n	<font color="#006600">//hide&nbsp;loading&nbsp;bar</font><br/>\r\n	<font color="#003366">function</font>&nbsp;hideLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">''#sub_cont''</font><font color="#009900">&#41;</font>.<font color="#660066">fadeIn</font><font color="#009900">&#40;</font><font color="#CC0000">1500</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">''.search-background''</font><font color="#009900">&#41;</font>.<font color="#660066">fadeOut</font><font color="#009900">&#40;</font><font color="#CC0000">200</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n	<font color="#009900">&#125;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#006600">//if&nbsp;enter&nbsp;is&nbsp;pressed</font><br/>\r\n	$<font color="#009900">&#40;</font><font color="#3366CC">''#search''</font><font color="#009900">&#41;</font>.<font color="#660066">keyup</font><font color="#009900">&#40;</font><font color="#003366">function</font><font color="#009900">&#40;</font>e<font color="#009900">&#41;</font>&nbsp;<font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000066">if</font><font color="#009900">&#40;</font>e.<font color="#660066">keyCode</font>&nbsp;<font color="#339933">==</font>&nbsp;<font color="#CC0000">13</font><font color="#009900">&#41;</font>&nbsp;<font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	showLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">''#sub_cont''</font><font color="#009900">&#41;</font>.<font color="#660066">fadeIn</font><font color="#009900">&#40;</font><font color="#CC0000">1500</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n		<font color="#006600">//load&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;do_search.php</font><br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">&quot;#content&nbsp;#sub_cont&quot;</font><font color="#009900">&#41;</font>.<font color="#660066">load</font><font color="#009900">&#40;</font><font color="#3366CC">&quot;http://localhost/demo_search/do_search.php?val=&quot;</font>&nbsp;<font color="#339933">+</font>&nbsp;$<font color="#009900">&#40;</font><font color="#3366CC">&quot;#search&quot;</font><font color="#009900">&#41;</font>.<font color="#660066">val</font><font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#339933">,</font>&nbsp;hideLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009900">&#125;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009900">&#125;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n	&nbsp;&nbsp;<font color="#006600">//if&nbsp;image&nbsp;searchBtn&nbsp;is&nbsp;clicked</font><br/>\r\n&nbsp;<br/>\r\n	$<font color="#009900">&#40;</font><font color="#3366CC">&quot;.searchBtn&quot;</font><font color="#009900">&#41;</font>.<font color="#660066">click</font><font color="#009900">&#40;</font><font color="#003366">function</font><font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#123;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n		<font color="#006600">//show&nbsp;the&nbsp;loading&nbsp;bar</font><br/>\r\n&nbsp;<br/>\r\n		showLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">''#sub_cont''</font><font color="#009900">&#41;</font>.<font color="#660066">fadeIn</font><font color="#009900">&#40;</font><font color="#CC0000">1500</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n		<font color="#006600">//load&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;do_search.php</font><br/>\r\n		$<font color="#009900">&#40;</font><font color="#3366CC">&quot;#content&nbsp;#sub_cont&quot;</font><font color="#009900">&#41;</font>.<font color="#660066">load</font><font color="#009900">&#40;</font><font color="#3366CC">&quot;http://localhost/demo_search/do_search.php?val=&quot;</font>&nbsp;<font color="#339933">+</font>&nbsp;$<font color="#009900">&#40;</font><font color="#3366CC">&quot;#search&quot;</font><font color="#009900">&#41;</font>.<font color="#660066">val</font><font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#339933">,</font>&nbsp;hideLoader<font color="#009900">&#40;</font><font color="#009900">&#41;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n&nbsp;<br/>\r\n	<font color="#009900">&#125;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n&nbsp;<br/>\r\n<font color="#009900">&#125;</font><font color="#009900">&#41;</font><font color="#339933">;</font><br/>\r\n<font color="#339933">&lt;/</font>script<font color="#339933">&gt;</font></font></blockquote>\r\n</div>', '2013-03-20 02:58:46', 0);
INSERT INTO `entry` (`entry_id`, `author_id`, `entry_name`, `entry_body`, `entry_date`, `comment_count`) VALUES
(4, 1, 'Part4-Ajax Live Search Using PHP Mysql Jquery', '<font size="4"><a href="http://ajaxlive.comli.com/demo_search.php">LIVE DEMO HERE</a></font><br>\r\nIn part4 we will create the php script file do_search.php.This file will 1)filter the user input &nbsp;for sql search query<div>2)get the values that ajax scripts posts&nbsp;</div><div><div>3)execute the sql query</div></div><div>4)Manage user input cases</div><div><br></div>\r\n<div id="show3">\r\n<blockquote><font color="#000000">&lt;<font size="2">?php</font></font><font size="2"><br>\r\n<font color="#990000">session_start</font><font color="#009900">(</font><font color="#009900">)</font><font color="#339933">;</font><font color="#666666">//start&nbsp;session&nbsp;to&nbsp;get&nbsp;the&nbsp;value&nbsp;of&nbsp;q&nbsp;from&nbsp;session.php</font><br>\r\n<font color="#000000">function</font>&nbsp;checkValues<font color="#009900">(</font><font color="#000088">$value</font><font color="#009900">)</font><br>\r\n<font color="#009900">{</font><br>\r\n &nbsp;<font color="#666666">//&nbsp;Use&nbsp;this&nbsp;function&nbsp;on&nbsp;all&nbsp;those&nbsp;values&nbsp;where&nbsp;you&nbsp;want&nbsp;to&nbsp;check&nbsp;for&nbsp;both&nbsp;sql&nbsp;injection&nbsp;and&nbsp;cross&nbsp;site&nbsp;scripting</font><br>\r\n &nbsp;<font color="#666666">//Trim&nbsp;the&nbsp;value</font><br>\r\n &nbsp;<font color="#000088">$value</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">trim</font><font color="#009900">(</font><font color="#000088">$value</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n <font color="#666666">//&nbsp;Stripslashes</font><br>\r\n <font color="#b1b100">if</font>&nbsp;<font color="#009900">(</font><font color="#990000">get_magic_quotes_gpc</font><font color="#009900">(</font><font color="#009900">)</font><font color="#009900">)</font>&nbsp;<font color="#009900">{</font><br>\r\n  <font color="#000088">$value</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">stripslashes</font><font color="#009900">(</font><font color="#000088">$value</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n <font color="#009900">}</font><br>\r\n&nbsp;<br>\r\n &nbsp;<font color="#666666">//&nbsp;Convert&nbsp;all&nbsp;&lt;,&nbsp;&gt;&nbsp;etc.&nbsp;to&nbsp;normal&nbsp;html&nbsp;and&nbsp;then&nbsp;strip&nbsp;these</font><br>\r\n &nbsp;<font color="#000088">$value</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">strtr</font><font color="#009900">(</font><font color="#000088">$value</font><font color="#339933">,</font><font color="#990000">array_flip</font><font color="#009900">(</font><font color="#990000">get_html_translation_table</font><font color="#009900">(</font>HTML_ENTITIES<font color="#009900">)</font><font color="#009900">)</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n &nbsp;<font color="#666666">//&nbsp;Strip&nbsp;HTML&nbsp;Tags</font><br>\r\n &nbsp;<font color="#000088">$value</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">strip_tags</font><font color="#009900">(</font><font color="#000088">$value</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n <font color="#666666">//&nbsp;Quote&nbsp;the&nbsp;value</font><br>\r\n <font color="#000088">$value</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">mysql_real_escape_string</font><font color="#009900">(</font><font color="#000088">$value</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n <font color="#b1b100">return</font>&nbsp;<font color="#000088">$value</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">}</font> <br>\r\n<font color="#b1b100">include_once</font><font color="#009900">(</font><font color="#0000ff">''db.php''</font><font color="#009900">)</font><font color="#339933">;</font><font color="#666666">//connect&nbsp;to&nbsp;database</font><br>\r\n<font color="#000088">$q</font><font color="#339933">=</font><font color="#000088">$_SESSION</font><font color="#009900">[</font><font color="#0000ff">"field"</font><font color="#009900">]</font><font color="#339933">;</font><font color="#666666">//get&nbsp;the&nbsp;category&nbsp;that&nbsp;user&nbsp;selects</font><br>\r\n<font color="#000088">$rec</font>&nbsp;<font color="#339933">=</font>&nbsp;checkValues<font color="#009900">(</font><font color="#000088">$_REQUEST</font><font color="#009900">[</font><font color="#0000ff">''val''</font><font color="#009900">]</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n<font color="#b1b100">if</font><font color="#009900">(</font><font color="#000088">$rec</font><font color="#009900">)</font><font color="#666666">//if&nbsp;there&nbsp;is&nbsp;input</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">{</font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#666666">//select&nbsp;from&nbsp;table&nbsp;person&nbsp;where&nbsp;category&nbsp;is&nbsp;name&nbsp;or&nbsp;Surname&nbsp;and</font><br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#666666">//match&nbsp;with&nbsp;the&nbsp;user&nbsp;input.</font><br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000088">$rsd</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">mysql_query</font><font color="#009900">(</font><font color="#0000ff">"select&nbsp;*&nbsp;from&nbsp;&nbsp;persons&nbsp;&nbsp;where&nbsp;&nbsp;<font color="#006699">$q</font>&nbsp;like&nbsp;''<font color="#006699">$rec</font>%''"</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n<font color="#009900">}</font><br>\r\n<font color="#b1b100">else</font><br>\r\n<font color="#009900">{</font><br>\r\n&nbsp;<br>\r\n <font color="#b1b100">echo</font>&nbsp;<font color="#0000ff">"&lt;b&gt;Insert&nbsp;Value&nbsp;Into&nbsp;Form&nbsp;&lt;/b&gt;"</font><font color="#339933">;</font><font color="#009900">}</font><br>\r\n<font color="#000088">$total</font>&nbsp;<font color="#339933">=</font>&nbsp;&nbsp;<font color="#990000">mysql_num_rows</font><font color="#009900">(</font><font color="#000088">$rsd</font><font color="#009900">)</font><font color="#339933">;</font><br>\r\n&nbsp;<br>\r\n<font color="#000000">?&gt;</font><br>\r\n<font color="#000000">&lt;?php</font><br>\r\n&nbsp;<br>\r\n&nbsp;<font color="#b1b100">while</font><font color="#009900">(</font><font color="#000088">$rows</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#990000">mysql_fetch_array</font><font color="#009900">(</font>&nbsp;<font color="#000088">$rsd</font><font color="#339933">,</font>MYSQL_ASSOC<font color="#009900">)</font><font color="#009900">)</font><font color="#666666">//get&nbsp;the&nbsp;results</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">{</font><font color="#000000">?&gt;</font><br>\r\n&nbsp;<br>\r\n &lt;div&nbsp;class="each_rec"&gt;&lt;b&nbsp;style="font-size:17px;&nbsp;color:red&nbsp;"&gt;&nbsp;<font color="#000000">&lt;?php</font>&nbsp;<font color="#b1b100">echo</font>&nbsp;<font color="#000088">$rows</font><font color="#009900">[</font><font color="#0000ff">''name''</font><font color="#009900">]</font><font color="#339933">;</font><font color="#000000">?&gt;</font>&lt;/b&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&nbsp;style="font-size:17px;&nbsp;color:blue"&gt;<font color="#000000">&lt;?php</font>&nbsp;<font color="#b1b100">echo</font>&nbsp;<font color="#000088">$rows</font><font color="#009900">[</font><font color="#0000ff">''Surname''</font><font color="#009900">]</font><font color="#339933">;</font><font color="#000000">?&gt;</font>&lt;/b&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>\r\n <font color="#000000">&lt;?php</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#b1b100">echo</font>&nbsp;<font color="#0000ff">''&lt;img&nbsp;name="myimage"&nbsp;src="''&lt;/font&gt;&lt;font color="#339933">.</font><font color="#000088">$rows</font><font color="#009900">[</font><font color="#0000ff">''image''</font><font color="#009900">]</font><font color="#339933">.</font><font color="#0000ff">''"&nbsp;width="60"&nbsp;height="60"&nbsp;alt="word"&nbsp;/&gt;''</font><font color="#339933">;</font>&nbsp;<font color="#000000">?&gt;</font><br>\r\n&nbsp;<br>\r\n&lt;/div&gt;<br>\r\n<font color="#000000">&lt;?php</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">}</font><br>\r\n&nbsp;<br>\r\n<font color="#b1b100">if</font><font color="#009900">(</font><font color="#000088">$total</font><font color="#339933">==</font><font color="#cc66cc">0</font><font color="#009900">)</font><font color="#009900">{</font>&nbsp;<font color="#b1b100">echo</font>&nbsp;<font color="#0000ff">''&lt;div&nbsp;class="no-rec"&gt;No&nbsp;Records!&lt;/div&gt;''</font><font color="#339933">;</font><font color="#009900">}</font><font color="#000000">?&gt;</font></font></blockquote></div>', '2013-03-20 01:07:08', 0);
INSERT INTO `entry` (`entry_id`, `author_id`, `entry_name`, `entry_body`, `entry_date`, `comment_count`) VALUES
(5, 1, 'PHP CodeIgniter Shoping Cart with PayPal Button', '<br>\r\n<font size="2"><b>This tutorial demonstrates &nbsp;an e-shop cart function with PayPal Button that&nbsp;uses cart class of codeigniter php framework jquery and ajax calls.</b></font><div><font size="3"><br></font></div><div><font size="2">An extensive demo of this tutorial can be found here(<font color="#ff0033">this tutorial covers only the basic objects of the demo</font>):<a href="http://dokimastiko.vacau.com" title="DEMO HERE" target="_blank">DEMO HERE</a></font></div><div><br></div><div>The source code can be found:<b style="font-size: small; "><a href="http://dokimastiko.vacau.com/cart.tar.gz" title="Source Code Here" target="_blank">Source Code Here</a></b></div><div>To use the source code :</div><div>1)upload the sql file to your database.</div><div>2)change config.php at application/config/config.php</div><blockquote><font size="2"><font color="#000088">$config</font><font color="#009900">[</font><font color="#0000ff">''base_url''</font><font color="#009900">]</font>	<font color="#339933">=</font>&nbsp;<font color="#0000ff">"http://localhost/your_path/"</font><font color="#339933">;</font></font></blockquote><br><blockquote><font size="2"><font color="#000088">$config</font><font color="#009900">[</font><font color="#0000ff">''index_page''</font><font color="#009900">]</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#0000ff">"index.php"</font><font color="#339933">;</font></font></blockquote><div>3)change /application/config/database.php<br></div><div><br><div><br></div><blockquote><font size="2"><font color="#000088">$db</font><font color="#009900">[</font><font color="#0000ff">''default''</font><font color="#009900">]</font><font color="#009900">[</font><font color="#0000ff">''hostname''</font><font color="#009900">]</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#0000ff">"localhost"</font><font color="#339933">;</font><br>\r\n<font color="#000088">$db</font><font color="#009900">[</font><font color="#0000ff">''default''</font><font color="#009900">]</font><font color="#009900">[</font><font color="#0000ff">''username''</font><font color="#009900">]</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#0000ff">"root"</font><font color="#339933">;</font><br>\r\n<font color="#000088">$db</font><font color="#009900">[</font><font color="#0000ff">''default''</font><font color="#009900">]</font><font color="#009900">[</font><font color="#0000ff">''password''</font><font color="#009900">]</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#0000ff">"your_password"</font><font color="#339933">;</font><br>\r\n<font color="#000088">$db</font><font color="#009900">[</font><font color="#0000ff">''default''</font><font color="#009900">]</font><font color="#009900">[</font><font color="#0000ff">''database''</font><font color="#009900">]</font>&nbsp;<font color="#339933">=</font>&nbsp;<font color="#0000ff">"your_database"</font><font color="#339933">;</font></font></blockquote><br><div></div><div><font color="#666666"><br></font></div><div><font color="#666666">Resources:<a href="http://ellislab.com/codeigniter" title="For CodeIgniter" target="_blank">For CodeIgniter</a></font></div><div><font color="#666666">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<a href="http://ellislab.com/codeigniter/user-guide/libraries/cart.html" title="cart class" target="_blank">cart class for codeigniter</a></font></div><div><b>CodeIgniter follows the Model View Controller &nbsp; architecture .</b></div><div><b>1)The Model code.</b></div><div><span style="color: rgb(87, 87, 87); font-family: Arial, Helvetica, sans-serif; line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2">Models are created in the following folder:&nbsp;</font></span><code style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: Courier, ''Courier New'', ''Lucida Console'', Monaco; vertical-align: baseline; color: rgb(0, 0, 0); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2">application/models/.S</font><span style="font-size: small; color: rgb(87, 87, 87); font-family: Arial, Helvetica, sans-serif; ">o let’s create our model file called</span></code><code style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: Courier, ''Courier New'', ''Lucida Console'', Monaco; vertical-align: baseline; color: rgb(0, 0, 0); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2">cart_model.php.In this file 1)<b>we get the products from the database&nbsp;</b></font></code><code style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: Courier, ''Courier New'', ''Lucida Console'', Monaco; vertical-align: baseline; color: rgb(0, 0, 0); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2">2)<b>We validate the form inputs</b>&nbsp;</font></code><code style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: Courier, ''Courier New'', ''Lucida Console'', Monaco; vertical-align: baseline; color: rgb(0, 0, 0); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2">3)<b>We execute the update function.</b></font></code></div><div><span style="color: rgb(87, 87, 87); font-family: Arial, Helvetica, sans-serif; line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2"><br></font></span></div><div><font color="#666666"><br></font></div></div>\r\n<b>The cart_model.php controller:</b><div><b><br></b><div><b><br></b></div></div><div id="show4">\r\n<pre style="background:#042029;color:#839496"> <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> \r\n\r\n<span style="color:#a57800">class</span> <span style="color:#839496">Cart_model</span> <span style="color:#a57800">extends</span> <span style="color:#536871">Model</span> {\r\n     <span style="color:#586e75">// Function to retrieve an array with all product information</span>\r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">retrieve_products</span>(){\r\n                  <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>database()<span style="color:#839496">;</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>query</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>db<span style="color:#a57800">-&gt;</span>get(<span style="color:#269186"><span style="color:#c60000">''</span>product<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n<span style="color:#859900">        return</span> <span style="color:#268bd2"><span style="color:#859900">$</span>query</span><span style="color:#a57800">-&gt;</span>result_array()<span style="color:#839496">;</span>\r\n    }\r\n    <span style="color:#586e75">// Updated the shopping cart</span>\r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">validate_update_cart</span>(){\r\n        \r\n        <span style="color:#586e75">// Get the total number of items in cart</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>total</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>total_items()<span style="color:#839496">;</span>\r\n        \r\n        <span style="color:#586e75">// Retrieve the posted information</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>item</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>input<span style="color:#a57800">-&gt;</span>post(<span style="color:#269186"><span style="color:#c60000">''</span>rowid<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>qty</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>input<span style="color:#a57800">-&gt;</span>post(<span style="color:#269186"><span style="color:#c60000">''</span>qty<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n\r\n        <span style="color:#586e75">// Cycle true all items and update them</span>\r\n<span style="color:#859900">        for</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>i</span><span style="color:#859900">=</span><span style="color:#269186">0</span><span style="color:#839496">;</span><span style="color:#268bd2"><span style="color:#859900">$</span>i</span> <span style="color:#859900">&lt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>total</span><span style="color:#839496">;</span><span style="color:#268bd2"><span style="color:#859900">$</span>i</span><span style="color:#859900">++</span>)\r\n        {\r\n            <span style="color:#586e75">// Create an array with the products rowid''s and quantities. </span>\r\n            <span style="color:#268bd2"><span style="color:#859900">$</span>data</span> <span style="color:#859900">=</span> <span style="color:#536871"><span style="color:#a57800">array</span><span style="color:#d31e1e">(</span>\r\n               <span style="color:#269186"><span style="color:#c60000">''</span>rowid<span style="color:#c60000">''</span></span> <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>item</span>[<span style="color:#268bd2"><span style="color:#859900">$</span>i</span>],\r\n               <span style="color:#269186"><span style="color:#c60000">''</span>qty<span style="color:#c60000">''</span></span>   <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>qty</span>[<span style="color:#268bd2"><span style="color:#859900">$</span>i</span>]\r\n            <span style="color:#d31e1e">)</span></span><span style="color:#839496">;</span>\r\n            \r\n            <span style="color:#586e75">// Update the cart with the new information</span>\r\n            <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>update(<span style="color:#268bd2"><span style="color:#859900">$</span>data</span>)<span style="color:#839496">;</span>\r\n        }\r\n}\r\n    <span style="color:#586e75">// Add an item to the cart</span>\r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">validate_add_cart_item</span>(){\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>database()<span style="color:#839496">;</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>id</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>input<span style="color:#a57800">-&gt;</span>post(<span style="color:#269186"><span style="color:#c60000">''</span>product_id<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Assign posted product_id to $id</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>cty</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>input<span style="color:#a57800">-&gt;</span>post(<span style="color:#269186"><span style="color:#c60000">''</span>quantity<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Assign posted quantity to $cty</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>db<span style="color:#a57800">-&gt;</span>where(<span style="color:#269186"><span style="color:#c60000">''</span>id<span style="color:#c60000">''</span></span>, <span style="color:#268bd2"><span style="color:#859900">$</span>id</span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Select where id matches the posted id</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>query</span> <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>db<span style="color:#a57800">-&gt;</span>get(<span style="color:#269186"><span style="color:#c60000">''</span>product<span style="color:#c60000">''</span></span>, <span style="color:#269186">1</span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Select the products where a match is found and limit the query by 1</span>\r\n          <span style="color:#586e75">// Check if a row has been found</span>\r\n<span style="color:#859900">        if</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>query</span><span style="color:#a57800">-&gt;</span>num_rows <span style="color:#859900">&gt;</span> <span style="color:#269186">0</span>){\r\n<span style="color:#859900">          foreach</span> (<span style="color:#268bd2"><span style="color:#859900">$</span>query</span><span style="color:#a57800">-&gt;</span>result() <span style="color:#859900">as</span> <span style="color:#268bd2"><span style="color:#859900">$</span>row</span>)\r\n            {\r\n                <span style="color:#268bd2"><span style="color:#859900">$</span>data</span> <span style="color:#859900">=</span> <span style="color:#536871"><span style="color:#a57800">array</span><span style="color:#d31e1e">(</span>\r\n                    <span style="color:#269186"><span style="color:#c60000">''</span>id<span style="color:#c60000">''</span></span>      <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>id</span>,\r\n                    <span style="color:#269186"><span style="color:#c60000">''</span>qty<span style="color:#c60000">''</span></span>     <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>cty</span>,\r\n                    <span style="color:#269186"><span style="color:#c60000">''</span>price<span style="color:#c60000">''</span></span>   <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>row</span><span style="color:#a57800">-&gt;</span>price,\r\n                    <span style="color:#269186"><span style="color:#c60000">''</span>name<span style="color:#c60000">''</span></span>    <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>row</span><span style="color:#a57800">-&gt;</span>name\r\n                <span style="color:#d31e1e">)</span></span><span style="color:#839496">;</span>\r\n\r\n                <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>insert(<span style="color:#268bd2"><span style="color:#859900">$</span>data</span>)<span style="color:#839496">;</span> \r\n                \r\n<span style="color:#859900">                return</span> <span style="color:#b58900">TRUE</span><span style="color:#839496">;</span>\r\n            }\r\n        \r\n        <span style="color:#586e75">// Nothing found! Return FALSE! </span>\r\n        }<span style="color:#859900">else</span>{\r\n<span style="color:#859900">            return</span> <span style="color:#b58900">FALSE</span><span style="color:#839496">;</span>\r\n        }\r\n    }\r\n    \r\n    <span style="color:#586e75">// Needed?</span>\r\n    <span style="color:#586e75">//function cart_content(){</span>\r\n    <span style="color:#586e75">//  return $this-&gt;cart-&gt;total();</span>\r\n    <span style="color:#586e75">//}</span>\r\n\r\n}\r\n\r\n\r\n<span style="color:#586e75">/* End of file cart_model.php */</span>\r\n<span style="color:#586e75">/* Location: ./application/models/cart_model.php */</span>\r\n</span></pre>\r\n2)<b>The Controller Code</b><div>The controller intreacts between the user interface and the model.We integrate &nbsp;add item to cart ,update,validate user input,empty cart function.Index() function sends data to the view.We use external file /assets/js/core.js file written in jquery to add cart item and empty cart without refreshing page.</div><div>The core.js file.</div><pre style="background:#042029;color:#839496"><span style="color:#859900">$</span>(<span style="color:#859900">document</span>)<span style="color:#268bd2">.ready</span><span style="color:#93a1a1">(</span><span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span> <span style="color:#268bd2">{</span> \r\n    <span style="color:#586e75">/*place jQuery actions here*/</span> \r\n    <span style="color:#268bd2">var</span> link <span style="color:#859900">=</span> <span style="color:#269186"><span style="color:#c60000">"</span>http://localhost/your_path/index.php/<span style="color:#c60000">"</span></span>;\r\n    \r\n    <span style="color:#586e75">//select form tags</span>\r\n    <span style="color:#859900">$</span>("<span style="color:#536871"><span style="color:#a57800">ul</span><span style="color:#268bd2">.products</span> <span style="color:#a57800">form</span></span>")<span style="color:#268bd2">.submit</span><span style="color:#93a1a1">(</span><span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span> <span style="color:#268bd2">{</span>\r\n        <span style="color:#586e75">// Get the product ID and the quantity </span>\r\n        <span style="color:#268bd2">var</span> id <span style="color:#859900">=</span> <span style="color:#859900">$</span>(<span style="color:#268bd2">this</span>).<span style="color:#268bd2">find</span>(''<span style="color:#536871"><span style="color:#a57800">input</span>[name=product_id]</span>'')<span style="color:#268bd2">.val</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span>;\r\n        <span style="color:#268bd2">var</span> qty <span style="color:#859900">=</span> <span style="color:#859900">$</span>(<span style="color:#268bd2">this</span>).<span style="color:#268bd2">find</span>(''<span style="color:#536871"><span style="color:#a57800">input</span>[name=quantity]</span>'')<span style="color:#268bd2">.val</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span>;\r\n        <span style="color:#586e75">//post data to controller</span>\r\n         <span style="color:#859900">$</span><span style="color:#268bd2">.post</span><span style="color:#93a1a1">(</span>link <span style="color:#859900">+</span> <span style="color:#269186"><span style="color:#c60000">"</span>cart/add_cart_item<span style="color:#c60000">"</span></span>, <span style="color:#268bd2">{</span> product_id: id, quantity: qty, ajax: <span style="color:#269186"><span style="color:#c60000">''</span>1<span style="color:#c60000">''</span></span> <span style="color:#268bd2">}</span>,\r\n            <span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span>data<span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n            \r\n            <span style="color:#859900">if</span><span style="color:#93a1a1">(</span>data <span style="color:#859900">=</span> <span style="color:#269186"><span style="color:#c60000">"</span>true<span style="color:#c60000">"</span></span><span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n                \r\n                <span style="color:#859900">$</span><span style="color:#268bd2">.get</span><span style="color:#93a1a1">(</span>link <span style="color:#859900">+</span> <span style="color:#269186"><span style="color:#c60000">"</span>cart/show_cart<span style="color:#c60000">"</span></span>, <span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span>cart<span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n                    <span style="color:#859900">$</span>("<span style="color:#536871"><span style="color:#268bd2">#cart_content</span></span>")<span style="color:#268bd2">.html</span><span style="color:#93a1a1">(</span>cart<span style="color:#93a1a1">)</span>;\r\n                <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n\r\n            <span style="color:#268bd2">}</span><span style="color:#859900">else</span><span style="color:#268bd2">{</span>\r\n                <span style="color:#268bd2">alert</span><span style="color:#93a1a1">(</span><span style="color:#269186"><span style="color:#c60000">"</span>Product does not exist<span style="color:#c60000">"</span></span><span style="color:#93a1a1">)</span>;\r\n            <span style="color:#268bd2">}</span>   \r\n            \r\n         <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>; \r\n\r\n        <span style="color:#859900">return</span> <span style="color:#b58900">false</span>;\r\n    <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n    <span style="color:#586e75">//empty cart</span>\r\n    <span style="color:#859900">$</span>("<span style="color:#536871"><span style="color:#268bd2">.empty</span></span>").live<span style="color:#93a1a1">(</span><span style="color:#269186"><span style="color:#c60000">"</span>click<span style="color:#c60000">"</span></span>, <span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n        <span style="color:#859900">$</span><span style="color:#268bd2">.get</span><span style="color:#93a1a1">(</span>link <span style="color:#859900">+</span> <span style="color:#269186"><span style="color:#c60000">"</span>cart/empty_cart<span style="color:#c60000">"</span></span>, <span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span><span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n            <span style="color:#859900">$</span><span style="color:#268bd2">.get</span><span style="color:#93a1a1">(</span>link <span style="color:#859900">+</span> <span style="color:#269186"><span style="color:#c60000">"</span>cart/show_cart<span style="color:#c60000">"</span></span>, <span style="color:#268bd2">function</span><span style="color:#93a1a1">(</span>cart<span style="color:#93a1a1">)</span><span style="color:#268bd2">{</span>\r\n                <span style="color:#859900">$</span>("<span style="color:#536871"><span style="color:#268bd2">#cart_content</span></span>")<span style="color:#268bd2">.html</span><span style="color:#93a1a1">(</span>cart<span style="color:#93a1a1">)</span>;\r\n            <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n        <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n        \r\n        <span style="color:#859900">return</span> <span style="color:#b58900">false</span>;\r\n    <span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n\r\n<span style="color:#268bd2">}</span><span style="color:#93a1a1">)</span>;\r\n</pre><br><div>The cart.php file integrates controller function.</div><div><br></div><pre style="background:#042029;color:#839496"><span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span>\r\n\r\n<span style="color:#a57800">class</span> <span style="color:#839496">Cart</span> <span style="color:#a57800">extends</span> <span style="color:#536871">Controller</span> { <span style="color:#586e75">// Our Cart class extends the Controller class</span>\r\n\r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">Cart</span>()\r\n    {\r\n        <span style="color:#748b00">parent</span><span style="color:#a57800">::</span><span style="color:#839496">Controller</span>()<span style="color:#839496">;</span> <span style="color:#586e75">// We define the the Controller class is the parent.  </span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>model(<span style="color:#269186"><span style="color:#c60000">''</span>cart_model<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Load our cart model for our entire class</span>\r\n    }\r\n    \r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">index</span>()\r\n    {\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>data</span>[<span style="color:#269186"><span style="color:#c60000">''</span>products<span style="color:#c60000">''</span></span>] <span style="color:#859900">=</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart_model<span style="color:#a57800">-&gt;</span>retrieve_products()<span style="color:#839496">;</span> <span style="color:#586e75">// Retrieve an array with all products</span>\r\n        \r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>data</span>[<span style="color:#269186"><span style="color:#c60000">''</span>content<span style="color:#c60000">''</span></span>] <span style="color:#859900">=</span> <span style="color:#269186"><span style="color:#c60000">''</span>cart/products<span style="color:#c60000">''</span></span><span style="color:#839496">;</span> <span style="color:#586e75">// Select view to display</span>\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>view(<span style="color:#269186"><span style="color:#c60000">''</span>index<span style="color:#c60000">''</span></span>, <span style="color:#268bd2"><span style="color:#859900">$</span>data</span>)<span style="color:#839496">;</span> <span style="color:#586e75">// Display the page</span>\r\n    }\r\n    \r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">add_cart_item</span>(){\r\n         <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>model(<span style="color:#269186"><span style="color:#c60000">''</span>cart_model<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n<span style="color:#859900">        if</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart_model<span style="color:#a57800">-&gt;</span>validate_add_cart_item() <span style="color:#859900">==</span> <span style="color:#b58900">TRUE</span>){\r\n            \r\n            <span style="color:#586e75">// Check if user has javascript enabled</span>\r\n<span style="color:#859900">            if</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>input<span style="color:#a57800">-&gt;</span>post(<span style="color:#269186"><span style="color:#c60000">''</span>ajax<span style="color:#c60000">''</span></span>) <span style="color:#859900">!</span><span style="color:#859900">=</span> <span style="color:#269186"><span style="color:#c60000">''</span>1<span style="color:#c60000">''</span></span>){\r\n                <span style="color:#839496">redirect</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#586e75">// If javascript is not enabled, reload the page with new data</span>\r\n            }<span style="color:#859900">else</span>{\r\n                <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>true<span style="color:#c60000">''</span></span><span style="color:#839496">;</span> <span style="color:#586e75">// If javascript is enabled, return true, so the cart gets updated</span>\r\n            }\r\n        }\r\n        \r\n    }\r\n    \r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">update_cart</span>(){\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart_model<span style="color:#a57800">-&gt;</span>validate_update_cart()<span style="color:#839496">;</span>\r\n        <span style="color:#839496">redirect</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n    }\r\n    \r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">show_cart</span>(){\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>load<span style="color:#a57800">-&gt;</span>view(<span style="color:#269186"><span style="color:#c60000">''</span>cart/cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n    }\r\n    \r\n    <span style="color:#bd3800">function</span> <span style="color:#899090">empty_cart</span>(){\r\n        <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>destroy()<span style="color:#839496">;</span>\r\n        <span style="color:#839496">redirect</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span>\r\n    }\r\n}\r\n\r\n<span style="color:#586e75">/* End of file cart.php */</span>\r\n<span style="color:#586e75">/* Location: ./application/controllers/cart.php */</span>\r\n</span></pre><div>Let''s explain how controller interacts with jquery.</div><div>Jquery gets the id and quantity values and posts them with a variable ajax which has value 1 to controllers add_cart_item() function via ajax &nbsp;call.The add_cart_item() function first validate the cart data with the model and if it is TRUE checks if user has activate javascript to his browser.Then returns true ,the jquery checks if the data is true and if it is makes ajax call to show_cart function which sends cart array to cart.php view file.</div>3)<b>The View Code.</b><div>index.php is the basic template file:</div><div><br></div>\r\n<blockquote><font size="2"><font color="#00bbdd">&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Strict//EN"&nbsp;"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">html</font>&nbsp;xml:<font color="#000066">lang</font><font color="#66cc66">=</font><font color="#ff0000">"en-us"</font>&nbsp;xmlns<font color="#66cc66">=</font><font color="#ff0000">"http://www.w3.org/1999/xhtml"</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">head</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">meta</font>&nbsp;<font color="#000066">http-equiv</font><font color="#66cc66">=</font><font color="#ff0000">"Content-Type"</font>&nbsp;<font color="#000066">content</font><font color="#66cc66">=</font><font color="#ff0000">"text/html;&nbsp;charset=utf-8"</font>&nbsp;<font color="#66cc66">/</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">title</font>&gt;</font>CodeIgniter&nbsp;Shopping&nbsp;Cart<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">title</font>&gt;</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">&lt;<font color="#000000">link</font>&nbsp;<font color="#000066">href</font><font color="#66cc66">=</font><font color="#ff0000">"&lt;?php&nbsp;echo&nbsp;base_url();&nbsp;?&gt;</font></font>assets/css/core.css"&nbsp;media="screen"&nbsp;rel="stylesheet"&nbsp;type="text/css"&nbsp;/&gt;<br>\r\n&nbsp;<br>\r\n<font color="#009900">&lt;<font color="#000000">script</font>&nbsp;<font color="#000066">type</font><font color="#66cc66">=</font><font color="#ff0000">"text/javascript"</font>&nbsp;<font color="#000066">src</font><font color="#66cc66">=</font><font color="#ff0000">"&lt;?php&nbsp;echo&nbsp;base_url();&nbsp;?&gt;</font></font>assets/js/jquery-1.3.2.min.js"&gt;<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">script</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">script</font>&nbsp;<font color="#000066">type</font><font color="#66cc66">=</font><font color="#ff0000">"text/javascript"</font>&nbsp;<font color="#000066">src</font><font color="#66cc66">=</font><font color="#ff0000">"&lt;?php&nbsp;echo&nbsp;base_url();&nbsp;?&gt;</font></font>assets/js/core.js"&gt;<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">script</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">head</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#000000">body</font>&gt;</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">&lt;<font color="#000000">div</font>&nbsp;<font color="#000066">id</font><font color="#66cc66">=</font><font color="#ff0000">"wrap"</font>&gt;</font><br>\r\n&nbsp;<br>\r\n	<font color="#009900">&lt;?php&nbsp;$this-&gt;</font>view($content);&nbsp;?&gt;<br>\r\n&nbsp;<br>\r\n	<font color="#009900">&lt;<font color="#000000">div</font>&nbsp;<font color="#000066">class</font><font color="#66cc66">=</font><font color="#ff0000">"cart_list"</font>&gt;</font><br>\r\n		<font color="#009900">&lt;<font color="#000000">h3</font>&gt;</font>Your&nbsp;shopping&nbsp;cart<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">h3</font>&gt;</font><br>\r\n		<font color="#009900">&lt;<font color="#000000">div</font>&nbsp;<font color="#000066">id</font><font color="#66cc66">=</font><font color="#ff0000">"cart_content"</font>&gt;</font><br>\r\n			<font color="#009900">&lt;?php&nbsp;echo&nbsp;$this-&gt;</font>view(''cart/cart.php'');&nbsp;?&gt;<br>\r\n		<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">div</font>&gt;</font><br>\r\n	<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">div</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">div</font>&gt;</font><br>\r\n&nbsp;<br>\r\n<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">body</font>&gt;</font><br>\r\n<font color="#009900">&lt;<font color="#66cc66">/</font><font color="#000000">html</font>&gt;</font></font></blockquote>Next we create products.php view file which will show the product.<div><br></div>\r\n<pre style="background:#042029;color:#839496">&lt;ul class="products"&gt;\r\n    <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span><span style="color:#859900"> foreach</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>products</span> <span style="color:#859900">as</span> <span style="color:#268bd2"><span style="color:#859900">$</span>p</span>): <span style="color:#d30102">?&gt;</span></span>\r\n    &lt;li&gt;\r\n        &lt;h3&gt;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>p</span>[<span style="color:#269186"><span style="color:#c60000">''</span>name<span style="color:#c60000">''</span></span>]<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/h3&gt;\r\n        &lt;img src="<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">base_url</span>()<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>assets/img/<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>p</span>[<span style="color:#269186"><span style="color:#c60000">''</span>image<span style="color:#c60000">''</span></span>]<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>" alt="" /&gt;\r\n        &lt;small&gt;&amp;euro;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>p</span>[<span style="color:#269186"><span style="color:#c60000">''</span>price<span style="color:#c60000">''</span></span>]<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/small&gt;\r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_open</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart/add_cart_item<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n            &lt;fieldset&gt;\r\n                &lt;label&gt;Quantity&lt;/label&gt;\r\n                <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_input</span>(<span style="color:#269186"><span style="color:#c60000">''</span>quantity<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>1<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>maxlength="2"<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n                <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_hidden</span>(<span style="color:#269186"><span style="color:#c60000">''</span>product_id<span style="color:#c60000">''</span></span>, <span style="color:#268bd2"><span style="color:#859900">$</span>p</span>[<span style="color:#269186"><span style="color:#c60000">''</span>id<span style="color:#c60000">''</span></span>])<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n                <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_submit</span>(<span style="color:#269186"><span style="color:#c60000">''</span>add<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>Add<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n            &lt;/fieldset&gt;\r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_close</span>()<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n    &lt;/li&gt;\r\n    <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span><span style="color:#859900"> endforeach</span><span style="color:#839496">;</span><span style="color:#d30102">?&gt;</span></span>\r\n&lt;/ul&gt;\r\n</pre><font face="helvetica" size="2">After this we create cart &nbsp;view file.&nbsp;<span style="background-color: rgb(255, 255, 255); color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; ">We use an if statment to check if the cart contains any content. If the cart does not have any content, we display the message “You don’t have any items yet.” If</span></font><div><font size="2" face="helvetica"><span style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); ">the cart is not empty, we will run the rest of the code.</span><br></font></div><div><span style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2" face="helvetica">Next, we create our form open tag using the form helper, and set the action parameter to</font></span><code style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: rgb(0, 0, 0); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><font size="2" face="helvetica">cart/update_cart</font></code><font size="2"><font face="helvetica"><span style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); ">. We also created a table with a tableheading, and</span><br style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><span style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); ">added the Quantity, Item Description, Item Price, and Sub-Total fields.</span></font><span style="color: rgb(87, 87, 87); font-family: Arial, Helvetica, sans-serif; line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><br></span></font></div><div><font size="2"><font face="helvetica"><span style="color: rgb(87, 87, 87); line-height: 21px; text-align: -webkit-auto; background-color: rgb(255, 255, 255); "><br></span></font></font></div>\r\n<pre style="background:#042029;color:#839496"><span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span><span style="color:#859900"> if</span>(<span style="color:#859900">!</span><span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>contents()):\r\n    <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>You don<span style="color:#cb4b16">\\''</span>t have any items yet.<span style="color:#c60000">''</span></span><span style="color:#839496">;</span>\r\n<span style="color:#859900">else</span>:\r\n<span style="color:#d30102">?&gt;</span></span>\r\n\r\n<span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_open</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart/update_cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n&lt;table width="100%" cellpadding="0" cellspacing="0"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Qty&lt;/td&gt;\r\n            &lt;td&gt;Item Description&lt;/td&gt;\r\n            &lt;td&gt;Item Price&lt;/td&gt;\r\n            &lt;td&gt;Sub-Total&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#268bd2"><span style="color:#859900">$</span>i</span> <span style="color:#859900">=</span> <span style="color:#269186">1</span><span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span><span style="color:#859900"> foreach</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>contents() <span style="color:#859900">as</span> <span style="color:#268bd2"><span style="color:#859900">$</span>items</span>): <span style="color:#d30102">?&gt;</span></span>\r\n        \r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_hidden</span>(<span style="color:#269186"><span style="color:#c60000">''</span>rowid[]<span style="color:#c60000">''</span></span>, <span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>rowid<span style="color:#c60000">''</span></span>])<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n        &lt;tr <span style="color:#d30102">&lt;?php</span><span style="color:#859900"> if</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>i</span><span style="color:#859900">&amp;</span><span style="color:#269186">1</span>){ <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>class="alt"<span style="color:#c60000">''</span></span><span style="color:#839496">;</span> }<span style="color:#d30102">?&gt;</span>&gt;\r\n            &lt;td&gt;\r\n                <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_input</span>(<span style="color:#536871"><span style="color:#a57800">array</span><span style="color:#d31e1e">(</span><span style="color:#269186"><span style="color:#c60000">''</span>name<span style="color:#c60000">''</span></span> <span style="color:#859900">=&gt;</span> <span style="color:#269186"><span style="color:#c60000">''</span>qty[]<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>value<span style="color:#c60000">''</span></span> <span style="color:#859900">=&gt;</span> <span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>qty<span style="color:#c60000">''</span></span>], <span style="color:#269186"><span style="color:#c60000">''</span>maxlength<span style="color:#c60000">''</span></span> <span style="color:#859900">=&gt;</span> <span style="color:#269186"><span style="color:#c60000">''</span>3<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>size<span style="color:#c60000">''</span></span> <span style="color:#859900">=&gt;</span> <span style="color:#269186"><span style="color:#c60000">''</span>5<span style="color:#c60000">''</span></span><span style="color:#d31e1e">)</span></span>)<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n            &lt;/td&gt;\r\n            \r\n            &lt;td&gt;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>name<span style="color:#c60000">''</span></span>]<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/td&gt;\r\n            \r\n            &lt;td&gt;&amp;euro;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>format_number(<span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>price<span style="color:#c60000">''</span></span>])<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/td&gt;\r\n            &lt;td&gt;&amp;euro;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>format_number(<span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>subtotal<span style="color:#c60000">''</span></span>])<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        \r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> <span style="color:#268bd2"><span style="color:#859900">$</span>i</span><span style="color:#859900">++</span><span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n        <span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span><span style="color:#859900"> endforeach</span><span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span></span>\r\n        \r\n        &lt;tr&gt;\r\n            &lt;td&lt;/td&gt;\r\n            &lt;td&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;strong&gt;Total&lt;/strong&gt;&lt;/td&gt;\r\n            &lt;td&gt;&amp;euro;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>format_number(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>total())<span style="color:#839496">;</span> <span style="color:#d30102">?&gt;</span>&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;p&gt;<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#839496">form_submit</span>(<span style="color:#269186"><span style="color:#c60000">''</span><span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>Update your Cart<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span> <span style="color:#a57800">echo</span> <span style="color:#839496">anchor</span>(<span style="color:#269186"><span style="color:#c60000">''</span>cart/empty_cart<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>Empty Cart<span style="color:#c60000">''</span></span>, <span style="color:#269186"><span style="color:#c60000">''</span>class="empty"<span style="color:#c60000">''</span></span>)<span style="color:#839496">;</span><span style="color:#d30102">?&gt;</span>&lt;/p&gt;\r\n&lt;p style="font-size:16px"&gt;If the quantity is set to zero, the item will be removed from the cart.&lt;/p&gt;\r\n<span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span> \r\n<span style="color:#a57800">echo</span> <span style="color:#839496">form_close</span>()<span style="color:#839496">;</span> \r\n<span style="color:#859900">endif</span><span style="color:#839496">;</span>\r\n<span style="color:#d30102">?&gt;</span></span>\r\n</pre>Next we are gonna create the PayPal Button.When you click on this button the cart you just made will be transfered to PayPal website.Paypal give us a form that posts data to their sevice using your paypal e-mail account(in this case i use mine).Also there are options of what type of usage we want our Buy now button we want to integrate.In our case we use _cart attribute.<div>For more details go &nbsp;<a href="http://www.paypalobjects.com/en_US/ebook/PP_WebsitePaymentsStandard_IntegrationGuide/shopping_cart.html">here</a></div><div>Add this to products.php view file</div><div><br></div>\r\n<pre style="background:#042029;color:#839496">&lt;form action="https://www.paypal.com/cgi-bin/webscr" method="post"&gt;\r\n&lt;input type="hidden" name="cmd" value="_cart"&gt;\r\n&lt;input type="hidden" name="upload" value="1"&gt;\r\n&lt;input type="hidden" name="business" value="anghel6@hotmail\r\n.com"&gt;\r\n\r\n<span style="color:#bd3613"><span style="color:#d30102">&lt;?php</span>\r\n<span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">=</span><span style="color:#269186">0</span><span style="color:#839496">;</span>\r\n<span style="color:#859900"> foreach</span>(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>contents() <span style="color:#859900">as</span> <span style="color:#268bd2"><span style="color:#859900">$</span>items</span>):\r\n\r\n                <span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">++</span><span style="color:#839496">;</span>\r\n                <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>&lt;input type="hidden" name="item_number_<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>" value="<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>rowid<span style="color:#c60000">''</span></span>]<span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>"&gt;<span style="color:#c60000">''</span></span><span style="color:#839496">;</span>\r\n                <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>&lt;input type="hidden" name="item_name_<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>" value="<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>name<span style="color:#c60000">''</span></span>]<span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>"&gt;<span style="color:#c60000">''</span></span><span style="color:#839496">;</span>\r\n                \r\n                <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>&lt;input type="hidden" name="amount_<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>" value="<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>price<span style="color:#c60000">''</span></span>]<span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>"&gt;<span style="color:#c60000">''</span></span><span style="color:#839496">;</span>\r\n                \r\n                <span style="color:#a57800">echo</span> <span style="color:#269186"><span style="color:#c60000">''</span>&lt;input type="hidden" name="quantity_<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>num</span><span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>" value="<span style="color:#c60000">''</span></span><span style="color:#859900">.</span><span style="color:#268bd2"><span style="color:#859900">$</span>items</span>[<span style="color:#269186"><span style="color:#c60000">''</span>qty<span style="color:#c60000">''</span></span>]<span style="color:#859900">.</span><span style="color:#269186"><span style="color:#c60000">''</span>"&gt;<span style="color:#c60000">''</span></span><span style="color:#839496">;</span>\r\n<span style="color:#859900">                endforeach</span><span style="color:#839496">;</span>\r\n    <span style="color:#d30102">?&gt;</span></span>\r\n&lt;input type="hidden" name="currency_code" value="EUR"&gt;\r\n&lt;input type="hidden" name="amount" value="<span style="color:#d30102">&lt;?php</span> <span style="color:#a57800">echo</span> <span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>format_number(<span style="color:#268bd2"><span style="color:#859900">$</span>this</span><span style="color:#a57800">-&gt;</span>cart<span style="color:#a57800">-&gt;</span>total())<span style="color:#839496">;</span>   <span style="color:#d30102">?&gt;</span>"&gt;\r\n&lt;div style="color:red"&gt;&lt;b style="color:blue;"&gt;Attention!&lt;/b&gt;This button will transfer the cart you just made to paypal website &lt;/div&gt;\r\n&lt;input type="image" src="http://www.paypal.com/en_US/i/btn/x-click-but01.gif"  width="70px" name="submit" alt="Make payments with PayPal - it''s fast, free and secure!"&gt;\r\n&lt;/form&gt;\r\n\r\n</pre>\r\nUse this for CSS:<div><br></div>\r\n<pre style="background:rgba(238,238,238,0.92);color:#000"><span style="font-weight:700">body</span>{\r\n    <span style="color:#33f;font-weight:700">font-family</span>: <span style="color:#093">"Lucida Sans"</span>;\r\n    <span style="color:#33f;font-weight:700">font-size</span>: <span style="color:#06f">12<span style="color:#00f">px</span></span>;\r\n}\r\n\r\n<span style="color:#36c;font-style:italic">#wrap</span>{\r\n    <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">1024<span style="color:#00f">px</span></span>;\r\n}\r\n\r\n<span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span>{\r\n    <span style="color:#33f;font-weight:700">list-style-type</span>: <span style="color:#6782d3">none</span>;\r\n    <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">525<span style="color:#00f">px</span></span>;\r\n    <span style="color:#33f;font-weight:700">margin</span>: <span style="color:#06f">0</span>;\r\n    <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">0</span>;\r\n}\r\n\r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">li</span>{\r\n        <span style="color:#33f;font-weight:700">background</span>: <span style="color:#6782d3">#eeeeee</span>;\r\n        <span style="color:#33f;font-weight:700">border</span>: <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#6782d3">solid</span> <span style="color:#6782d3">#d3d3d3</span>;\r\n        <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n        <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">150<span style="color:#00f">px</span></span>;\r\n        <span style="color:#33f;font-weight:700">text-align</span>: <span style="color:#6782d3">center</span>;\r\n        <span style="color:#33f;font-weight:700">float</span>: <span style="color:#6782d3">left</span>;\r\n        <span style="color:#33f;font-weight:700">margin-right</span>: <span style="color:#06f">10<span style="color:#00f">px</span></span>;\r\n    }\r\n\r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">h3</span>{\r\n        <span style="color:#33f;font-weight:700">margin</span>: <span style="color:#06f">0</span>;\r\n        <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">0<span style="color:#00f">px</span></span> <span style="color:#06f">0<span style="color:#00f">px</span></span> <span style="color:#06f">5<span style="color:#00f">px</span></span> <span style="color:#06f">0<span style="color:#00f">px</span></span>;\r\n        <span style="color:#33f;font-weight:700">font-size</span>: <span style="color:#06f">14<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">small</span>{\r\n        <span style="color:#33f;font-weight:700">display</span>: <span style="color:#6782d3">block</span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">form</span> <span style="font-weight:700">fieldset</span>{\r\n        <span style="color:#33f;font-weight:700">border</span>: <span style="color:#06f">0<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">form</span> <span style="font-weight:700">label</span>{\r\n        <span style="color:#33f;font-weight:700">font-size</span>: <span style="color:#06f">12<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">ul</span><span style="color:#36c;font-style:italic">.products</span> <span style="font-weight:700">form</span> <span style="font-weight:700">input</span>[type=text]{\r\n        <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">18<span style="color:#00f">px</span></span>;\r\n        <span style="color:#33f;font-weight:700">background</span>: <span style="color:#6782d3">#FFF</span>;\r\n        <span style="color:#33f;font-weight:700">border</span>: <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#6782d3">solid</span> <span style="color:#6782d3">#d3d3d3</span>;\r\n    }\r\n    \r\n<span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span>{\r\n    <span style="color:#33f;font-weight:700">background</span>: <span style="color:#6782d3">#eeeeee</span>;\r\n    <span style="color:#33f;font-weight:700">border</span>: <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#6782d3">solid</span> <span style="color:#6782d3">#d3d3d3</span>;\r\n    <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n    <span style="color:#33f;font-weight:700">float</span>: <span style="color:#6782d3">left</span>;    \r\n    <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">490<span style="color:#00f">px</span></span>;\r\n}\r\n\r\n    <span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span> <span style="font-weight:700">h3</span>{\r\n        <span style="color:#33f;font-weight:700">margin</span>: <span style="color:#06f">0</span> <span style="color:#06f">0</span> <span style="color:#06f">10<span style="color:#00f">px</span></span> <span style="color:#06f">0</span>;\r\n        <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">0</span>;\r\n        <span style="color:#33f;font-weight:700">font-size</span>: <span style="color:#06f">14<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span> <span style="font-weight:700">table</span> <span style="font-weight:700">thead</span> <span style="font-weight:700">tr</span> <span style="font-weight:700">td</span>{\r\n        <span style="color:#33f;font-weight:700">border-bottom</span>: <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#6782d3">solid</span> <span style="color:#6782d3">#d3d3d3</span>;\r\n        <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span> <span style="font-weight:700">table</span> <span style="font-weight:700">tbody</span> <span style="font-weight:700">tr</span> <span style="font-weight:700">td</span>{\r\n        <span style="color:#33f;font-weight:700">padding</span>: <span style="color:#06f">5<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span> <span style="font-weight:700">table</span> <span style="font-weight:700">tbody</span> <span style="font-weight:700">tr</span> <span style="font-weight:700">td</span> <span style="font-weight:700">input</span>[type=text]{\r\n        <span style="color:#33f;font-weight:700">background</span>: <span style="color:#6782d3">#FFF</span>;\r\n        <span style="color:#33f;font-weight:700">border</span>: <span style="color:#06f">1<span style="color:#00f">px</span></span> <span style="color:#6782d3">solid</span> <span style="color:#6782d3">#d3d3d3</span>;\r\n        <span style="color:#33f;font-weight:700">width</span>: <span style="color:#06f">25<span style="color:#00f">px</span></span>;\r\n    }\r\n    \r\n    <span style="font-weight:700">div</span><span style="color:#36c;font-style:italic">.cart_list</span> <span style="font-weight:700">table</span> <span style="font-weight:700">tbody</span> <span style="font-weight:700">tr</span><span style="color:#36c;font-style:italic">.alt</span>{\r\n        <span style="color:#33f;font-weight:700">background</span>: <span style="color:#6782d3">#f5f5f5</span>;\r\n    }\r\n</pre></div>', '2013-03-22 01:34:01', 0);
INSERT INTO `entry` (`entry_id`, `author_id`, `entry_name`, `entry_body`, `entry_date`, `comment_count`) VALUES
(6, 1, 'Part1-(Theory)Space Vector PWM with embedded C on TI TMS320LF2407', '<br>\r\n<div style="font-size:16px">Theory:</b></div><br>\r\n<div style="font-size:13px">Source:<a href="http://en.wikipedia.org">en.wikipedia.org</a></div>\r\n\r\n<p><b>Space vector modulation</b> (<b>SVM</b>) is an algorithm for the control of <a href="http://en.wikipedia.org/wiki/Pulse_width_modulation" title="Pulse width modulation" class="mw-redirect">pulse width modulation</a> (PWM).<sup id="cite_ref-control_1-0" class="reference"><a href="#cite_note-control-1"><span>[</span>1<span>]</span></a></sup> It is used for the creation of <a href="http://en.wikipedia.org/wiki/Alternating_current" title="Alternating current">alternating current</a> (AC) <a href="http://en.wikipedia.org/wiki/Waveform" title="Waveform">waveforms</a>; most commonly to drive <a href="http://en.wikipedia.org/wiki/3_phase" title="3 phase" class="mw-redirect">3 phase</a> AC powered motors at varying speeds from DC using multiple <a href="http://en.wikipedia.org/wiki/Switching_amplifier" title="Switching amplifier" class="mw-redirect">class-D amplifiers</a>. There are various variations of SVM that result in different quality and computational requirements. One active area of development is in the reduction of <a href="http://en.wikipedia.org/wiki/Total_harmonic_distortion" title="Total harmonic distortion">total harmonic distortion</a> (THD) created by the rapid switching inherent to these algorithms.</p><p><br></p>\r\n<div class="magnify"><a href="http://en.wikipedia.org/wiki/File:Three_leg_inverter.gif" class="internal" title="Enlarge"><img src="//bits.wikimedia.org/static-1.21wmf11/skins/common/images/magnify-clip.png" width="15" height="11" alt=""></a></div>\r\nTopology of a basic three phase inverter.\r\n\r\n\r\n<p>A three phase inverter as shown to the right must be controlled so that at no time are both switches in the same leg turned on or else the DC supply would be shorted. This requirement may be met by the complementary operation of the switches within a leg. i.e. if A<sup>+</sup> is on then A<sup>-</sup> is off and vice versa. This leads to eight possible switching vectors for the inverter, V<sub>0</sub> through V<sub>7</sub> with six \r\n\r\n<div class="thumbinner" style="width:242px;"><a href="http://en.wikipedia.org/wiki/File:Three_leg_inverter.gif" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Three_leg_inverter.gif/240px-Three_leg_inverter.gif" width="240" height="119" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Three_leg_inverter.gif/360px-Three_leg_inverter.gif 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Three_leg_inverter.gif/480px-Three_leg_inverter.gif 2x" /></a>\r\n<div class="thumbcaption">\r\n<div class="magnify"><a href="http://en.wikipedia.org/wiki/File:Three_leg_inverter.gif" class="internal" title="Enlarge"><img src="//bits.wikimedia.org/static-1.21wmf11/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>\r\nTopology of a basic three phase inverter.</div>\r\n</div>\r\n</div>\r\n<div id="show5">\r\nactive switching vectors and two zero vectors.</p>\r\n<center>\r\n<table class="wikitable" border="1">\r\n<tbody><tr>\r\n<th>Vector</th>\r\n<th>A<sup>+</sup></th>\r\n<th>B<sup>+</sup></th>\r\n<th>C<sup>+</sup></th>\r\n<th>A<sup>-</sup></th>\r\n<th>B<sup>-</sup></th>\r\n<th>C<sup>-</sup></th>\r\n<th>V<sub>AB</sub></th>\r\n<th>V<sub>BC</sub></th>\r\n<th>V<sub>CA</sub></th>\r\n<th></th>\r\n</tr>\r\n<tr>\r\n<td>V<sub>0</sub> = {000}</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">0</td>\r\n<td align="center">0</td>\r\n<td align="center">0</td>\r\n<td>zero vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>1</sub> = {100}</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td align="center">0</td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>2</sub> = {110}</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">0</td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>3</sub> = {010}</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td align="center">0</td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>4</sub> = {011}</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td align="center">0</td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>5</sub> = {001}</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">0</td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>6</sub> = {101}</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">+V<sub>dc</sub></td>\r\n<td align="center">-V<sub>dc</sub></td>\r\n<td align="center">0</td>\r\n<td>active vector</td>\r\n</tr>\r\n<tr>\r\n<td>V<sub>7</sub> = {111}</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">ON</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">OFF</td>\r\n<td align="center">0</td>\r\n<td align="center">0</td>\r\n<td align="center">0</td>\r\n<td>zero vector</td>\r\n</tr>\r\n</tbody></table>\r\n</center>\r\n<p>To implement space vector modulation a reference signal V<sub>ref</sub> is sampled with a frequency f<sub>s</sub> (T<sub>s</sub> = 1/f<sub>s</sub>). The reference signal may be generated from three separate phase references using the <a href="http://en.wikipedia.org/wiki/Alpha_beta_gamma_transform" title="Alpha beta gamma transform" class="mw-redirect"><img class="tex" alt="\\\\\\\\alpha\\\\\\\\beta\\\\\\\\gamma" src="//upload.wikimedia.org/math/5/b/8/5b8c120a94bd93644531871934afa9d2.png"> transform</a>. The reference vector is then synthesized using a combination of the two adjacent active switching vectors and one or both of the zero vectors. Various strategies of selecting the order of the vectors and which zero vector(s) to use exist. Strategy selection will affect the harmonic content and the switching losses.</p>\r\n<div class="center">\r\n<div class="thumb tnone">\r\n<div class="thumbinner"  href="http://en.wikipedia.org/wiki/File:Space_Vector_Modulation.gif" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Space_Vector_Modulation.gif/400px-Space_Vector_Modulation.gif" width="400" height="302" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Space_Vector_Modulation.gif/600px-Space_Vector_Modulation.gif 1.5x, //upload.wikimedia.org/wikipedia/commons/5/5a/Space_Vector_Modulation.gif 2x"></a>\r\n<div class="thumbcaption">\r\n<div class="magnify"><a href="http://en.wikipedia.org/wiki/File:Space_Vector_Modulation.gif" class="internal" title="Enlarge"><img src="//bits.wikimedia.org/static-1.21wmf11/skins/common/images/magnify-clip.png" width="15" height="11" alt=""></a></div>\r\nAll eight possible switching vectors for a three-leg inverter using space vector modulation. An example V<sub>ref</sub> is shown in the first sector. V<sub>ref_MAX</sub> is the maximum amplitude of V<sub>ref</sub> before non-linear overmodulation is reached.</div>\r\n</div>\r\n</div>\r\n</div>\r\n<p>More complicated SVM strategies for the unbalanced operation of four-leg three-phase inverters do exist. In these strategies the switching vectors define a 3D shape (a hexagonal <a href="http://en.wikipedia.org/wiki/Prism_(geometry)" title="Prism (geometry)">prism</a> in <img class="tex" alt="\\\\\\\\alpha\\\\\\\\beta\\\\\\\\gamma" src="//upload.wikimedia.org/math/5/b/8/5b8c120a94bd93644531871934afa9d2.png"> coordinates<sup id="http://en.wikipedia.org/cite_ref-2" class="reference"><a href="http://en.wikipedia.org/#cite_note-2"><span>[</span>2<span>]</span></a></sup> or a <a href="http://en.wikipedia.org/wiki/Dodecahedron" title="Dodecahedron">dodecahedron</a> in abc Three-Dimensional Space Vector Modulation in abc coordinates<sup id="cite_ref-3" class="reference"><a href="http://en.wikipedia.org/#cite_note-3"><span>[</span>3<span>]</span></a></sup>) rather than a 2D <a href="http://en.wikipedia.org/wiki/Hexagon" title="Hexagon">hexagon</a>.</p>\r\n<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>In <a href="http://en.wikipedia.org/wiki/Electrical_engineering" title="Electrical engineering">electrical engineering</a>, the <b>alpha-beta</b> (<img class="tex" alt="\\alpha\\beta\\gamma" src="//upload.wikimedia.org/math/5/b/8/5b8c120a94bd93644531871934afa9d2.png" />) <b>transformation</b> (also known as the <b>Clarke transformation</b>) is a mathematical <a href="http://en.wikipedia.org/wiki/Transform_(mathematics)" title="Transform (mathematics)" class="mw-redirect">transformation</a> employed to simplify the analysis of <a href="/wiki/Three-phase_electric_power" title="Three-phase electric power">three-phase circuits</a>. Conceptually it is similar to the <a href="http://en.wikipedia.org/wiki/Dqo_transformation" title="Dqo transformation">dqo transformation</a>. One very useful application of the <img class="tex" alt="http://en.wikipedia.org\\alpha\\beta\\gamma" src="//upload.wikimedia.org/math/5/b/8/5b8c120a94bd93644531871934afa9d2.png" /> transformation is the generation of the reference signal used for space vector modulation control of three-phase <a href="http://en.wikipedia.org/wiki/Inverter_(electrical)" title="Inverter (electrical)" class="mw-redirect">inverters</a>.</p>\r\n\r\n<p>The <img class="tex" alt="\\alpha\\beta\\gamma" src="//upload.wikimedia.org/math/5/b/8/5b8c120a94bd93644531871934afa9d2.png" /> transform applied to three-phase currents, as used by <a href="http://en.wikipedia.org/wiki/Edith_Clarke" title="Edith Clarke">Edith Clarke</a>, is shown below in matrix form:<sup id="cite_ref-1" class="reference"><a href="http://en.wikipedia.org#cite_note-1"><span>[</span>1<span>]</span></a></sup></p>\r\n<dl>\r\n<dd><img class="tex" alt="I_{\\alpha\\beta\\gamma} = TI_{abc} = \\frac{2}{3}\\begin{bmatrix} 1 &amp; -\\frac{1}{2} &amp; -\\frac{1}{2} \\\\ \r\n0 &amp; \\frac{\\sqrt{3}}{2} &amp; -\\frac{\\sqrt{3}}{2} \\\\ \r\n\\frac{1}{2} &amp; \\frac{1}{2} &amp; \\frac{1}{2} \\\\ \r\n\\end{bmatrix}\\begin{bmatrix}I_a\\\\I_b\\\\I_c\\end{bmatrix}" src="//upload.wikimedia.org/math/2/e/e/2ee7d522d5677f6aeba90cdbfc31a396.png" /></dd>\r\n</dl>\r\n<p>The inverse transform is:</p>\r\n<dl>\r\n<dd><img class="tex" alt="I_{abc} = T^{-1}I_{\\alpha\\beta\\gamma} = \\begin{bmatrix} 1 &amp; 0 &amp; 1\\\\\r\n-\\frac{1}{2} &amp; \\frac{\\sqrt{3}}{2} &amp; 1\\\\\r\n-\\frac{1}{2} &amp; -\\frac{\\sqrt{3}}{2} &amp; 1\\end{bmatrix}\r\n\\begin{bmatrix}I_\\alpha\\\\I_\\beta\\\\I_\\gamma\\end{bmatrix}" src="//upload.wikimedia.org/math/5/b/7/5b7308f3a5a8feb3e969f59caeabea05.png" /></dd>\r\n</dl>\r\n<p>Alternatively, the scaling of the transform can be chosen to <img class="tex" alt="\\sqrt{2/3}" src="//upload.wikimedia.org/math/4/4/a/44a3f3fdcb9de600a1f2ac9319a2c86c.png" /> instead of <img class="tex" alt="2/3" src="//upload.wikimedia.org/math/c/5/3/c531884a343e0db77c17c7a33e1b7675.png" />, then the inverse transformation matrix is also scaled by <img class="tex" alt="\\sqrt{2/3}" src="//upload.wikimedia.org/math/4/4/a/44a3f3fdcb9de600a1f2ac9319a2c86c.png" />.<sup id="cite_ref-2" class="reference"><a href="http://en.wikipedia.org#cite_note-2"><span>[</span>2<span>]</span></a></sup></p>\r\n<p>In a balanced system <img class="tex" alt="I_a+I_b+I_c=0" src="//upload.wikimedia.org/math/2/2/4/224a4528ad523504d26076ab3aa37520.png" /> and thus <img class="tex" alt="I_\\gamma=0" src="//upload.wikimedia.org/math/4/f/c/4fccb65b72a9ad1582a71e4edca0a415.png" /> and two of the phase currents suffice to compute the <img class="tex" alt="\\alpha" src="//upload.wikimedia.org/math/b/c/c/bccfc7022dfb945174d9bcebad2297bb.png" /> and <img class="tex" alt="\\beta" src="//upload.wikimedia.org/math/0/7/1/071997f13634882f823041b057f90923.png" /> components. In this case the transform simplifies to<sup id="cite_ref-Tahri_3-0" class="reference"><a href="http://en.wikipedia.org#cite_note-Tahri-3"><span>[</span>3<span>]</span></a></sup></p>\r\n<dl>\r\n<dd><img class="tex" alt="I_{\\alpha\\beta} = \\begin{bmatrix} 1 &amp; 0 \\\\ \r\n\\frac{1}{\\sqrt{3}} &amp; \\frac{2}{\\sqrt{3}}\r\n\\end{bmatrix}\\begin{bmatrix}I_a\\\\I_b\\end{bmatrix}" src="//upload.wikimedia.org/math/f/3/7/f37032c36cc964a280d0bee6bd79dd7d.png" /></dd>\r\n</dl>\r\n<p>and</p>\r\n<dl>\r\n<dd><img class="tex" alt="I_{abc} = \\begin{bmatrix} 1 &amp; 0 \\\\\r\n-\\frac{1}{2} &amp; \\frac{\\sqrt{3}}{2} \\\\\r\n-\\frac{1}{2} &amp; -\\frac{\\sqrt{3}}{2} \\end{bmatrix}\r\n\\begin{bmatrix}I_\\alpha\\\\I_\\beta\\end{bmatrix}" src="//upload.wikimedia.org/math/3/f/3/3f391c0f78d42846f994c9de26cff858.png" /></dd>\r\n</dl></div>\r\n<h2> <span class="mw-headline"> Clarke Transform of Balanced Three-Phase Voltages </span></h2>\r\n<p>Consider the following balanced three-phase voltage waveforms:\r\n</p>\r\n<dl><dd> <img class="tex" alt="\\begin{bmatrix} U_{a} \\\\ U_{b} \\\\ U_{c} \\\\ \\end{bmatrix}  = \\begin{bmatrix} U_{m} \\sin(\\omega t) \\\\ U_{m} \\sin(\\omega t + \\frac{2\\pi}{3}) \\\\ U_{m} \\sin(\\omega t - \\frac{2\\pi}{3}) \\\\ \\end{bmatrix} " src="http://www.openelectrical.org/wiki/images/math/a/6/3/a6376cc185b5e177e89e334298bf5fff.png" />\r\n</dd></dl>\r\n<p>Taking the Clarke transform, we get:\r\n</p>\r\n<dl><dd> <img class="tex" alt="\\begin{bmatrix} U_{\\alpha} \\\\ U_{\\beta} \\\\ U_{0} \\\\ \\end{bmatrix} = T_{\\alpha \\beta 0} \\begin{bmatrix} U_{a} \\\\ U_{b} \\\\ U_{c} \\\\ \\end{bmatrix} " src="http://www.openelectrical.org/wiki/images/math/0/1/a/01a33162b70933adababcb92d9f55ab4.png" />\r\n</dd></dl>\r\n<dl><dd><dl><dd><dl><dd> <img class="tex" alt=" = \\frac{2}{3}\\begin{bmatrix} 1 &amp; -\\frac{1}{2} &amp; -\\frac{1}{2} \\\\ &#10;0 &amp; \\frac{\\sqrt{3}}{2} &amp; -\\frac{\\sqrt{3}}{2} \\\\ &#10;\\frac{1}{2} &amp; \\frac{1}{2} &amp; \\frac{1}{2} \\\\ &#10;\\end{bmatrix} \\begin{bmatrix} U_{m} \\sin(\\omega t) \\\\ U_{m} \\sin(\\omega t + \\frac{2\\pi}{3}) \\\\ U_{m} \\sin(\\omega t - \\frac{2\\pi}{3}) \\\\ \\end{bmatrix} " src="http://www.openelectrical.org/wiki/images/math/c/d/c/cdc8053cba45e0e7a8f5a3e1aa8e559a.png" />\r\n</dd></dl>\r\n</dd></dl>\r\n</dd></dl>\r\n<dl><dd><dl><dd><dl><dd> <img class="tex" alt=" = \\begin{bmatrix} &#10;\\frac{2U_{m}}{3} \\left[ \\sin(\\omega t) - \\frac{1}{2} \\sin(\\omega t + \\frac{2\\pi}{3}) - \\frac{1}{2} \\sin(\\omega t - \\frac{2\\pi}{3}) \\right] \\\\ &#10;\\frac{\\sqrt{3} U_{m}}{3} \\left[ \\sin(\\omega t + \\frac{2\\pi}{3}) - \\sin(\\omega t - \\frac{2\\pi}{3}) \\right] \\\\ &#10;\\frac{U_{m}}{3} \\left[ \\sin(\\omega t) + \\sin(\\omega t + \\frac{2\\pi}{3}) + \\sin(\\omega t - \\frac{2\\pi}{3}) \\right]  \\\\ &#10;\\end{bmatrix} " src="http://www.openelectrical.org/wiki/images/math/0/7/3/0737f339a31b89652a758e5f6ff56c12.png" />\r\n</dd></dl>\r\n</dd></dl>\r\n</dd></dl>\r\n<dl><dd><dl><dd><dl><dd> <img class="tex" alt=" = \\begin{bmatrix} &#10;U_{m} \\sin(\\omega t)  \\\\ &#10;U_{m} \\cos(\\omega t) \\\\ &#10;0  \\\\ &#10;\\end{bmatrix} " src="http://www.openelectrical.org/wiki/images/math/8/c/8/8c84d17785800ce691c2412be297f85c.png" />\r\n</dd></dl>\r\n</dd></dl>\r\n</dd></dl>\r\n<p>Time domain simulation result of transformation from three-phase stationary into two-phase stationary coordinated system is shown in the following figures:\r\n</p>\r\n<div class="thumb tnone"><div class="thumbinner" style="width:452px;"><a href="http://www.openelectrical.org/wiki/index.php?title=File:Clarke_transform2.png" class="image" title="Three-phase voltages in the time domain"><img alt="" src="http://www.openelectrical.org/wiki/images/thumb/2/21/Clarke_transform2.png/450px-Clarke_transform2.png" width="450" height="273" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://www.openelectrical.org/wiki/index.php?title=File:Clarke_transform2.png" class="internal" title="Enlarge"><img src="http://www.openelectrical.org/wiki//wiki/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Three-phase voltages in the time domain</div></div></div>\r\n<div class="thumb tnone"><div class="thumbinner" style="width:452px;"><a href="http://www.openelectrical.org/wiki/index.php?title=File:Clarke_transform3.png" class="image" title="Transformation of three-phase voltages into two-phase orthogonal voltages"><img alt="" src="http://www.openelectrical.org/wiki/images/thumb/e/e1/Clarke_transform3.png/450px-Clarke_transform3.png" width="450" height="282" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://www.openelectrical.org/wiki/index.php?title=File:Clarke_transform3.png" class="internal" title="Enlarge"><img src="http://www.openelectrical.org/wiki/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Transformation of three-phase voltages into two-phase orthogonal voltages</div></div></div>\r\n<div style="font-size:16px"><b>Implementation on TI tms320lf2407 in Part2</b></div><br>\r\n</div>', '2013-03-15 12:18:24', 0),
(7, 1, 'Part2-(Implementation) Space Vector PWM with embedded C on TI TMS320LF2407', '<font size="2">In part2 we will make software on a Texas Intruments DSP tms320lf2407 the space vector pwm method.</font><div><font size="2"><div>In the process &nbsp;we think the hexagon pass 200 vectors&nbsp;Uout. Changing the period T then we can&nbsp;change the frequency of the AC sine&nbsp;output.</div><div>This program is made in code compozer studio &nbsp;with embedded c.First we initialize our dsp board and declare the neccesary &nbsp;constants.Next we determine the sectror of the vector reference and calculate the components of &nbsp;the vector reference.Then&nbsp;&nbsp;we write the main program.The main() stores the vectors reference in memory,&nbsp;loads vectors reference&nbsp;on comparator,calculates 3 phase variables&nbsp;based on clarke transformation,multiply the carrier with the two&nbsp;signals they are active on each phase based on&nbsp;3 phase &nbsp;inverter table (to calculate&nbsp;the active state).Compares the two active states and finds the Uout.</div><div><br></div><div><br></div></font></div><div id="show6"><pre style="font-size:10px; height:900px" class="cpp" style="font-family:monospace;">&nbsp;\r\n<span style="color: #ff0000; font-style: italic;">/** in the process\r\nwe think the hexagon pass 200 vectors\r\nUout. Changing the period T then we can\r\nchange the frequency of the AC sine\r\noutput.**/</span>\r\n<span style="color: #339900;"># include &quot;register.h&quot;</span>\r\n<span style="color: #339900;"># include &quot;float.h&quot;</span>\r\n<span style="color: #339900;"># include &quot;math.h&quot;</span>\r\n<span style="color: #0000ff;">float</span> ualfa <span style="color: #008000;">&#91;</span><span style="color: #0000dd;">200</span><span style="color: #008000;">&#93;</span>,ubeta <span style="color: #008000;">&#91;</span><span style="color: #0000dd;">200</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>  <span style="color: #666666;">//ualfa ,ubet? are the components of vector reference.</span>\r\n<span style="color: #0000ff;">int</span> sector <span style="color: #008000;">&#91;</span><span style="color: #0000dd;">200</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// variable for the sectors of hexagonal.</span>\r\n<span style="color: #339900;"># Define PI2 2*3.1415926 // pi constant</span>\r\n<span style="color: #339900;"># Define DETA PI2/200 / / angle between two adjacent vectors</span>\r\n<span style="color: #339900;">#Define INIA 3.1415926/180 //angle ofUout.</span>\r\n<span style="color: #339900;"># Define TP 1200 //Period og carriee</span>\r\n<span style="color: #339900;"># Define KP 0.7 //constant that changes the width of output of the inverter.</span>\r\n<span style="color: #000040;">/</span>\r\n<span style="color: #666666;">//Subroutine that initialize our system.</span>\r\nv??d initial<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\n<span style="color: #000040;">*</span>IFR <span style="color: #000080;">=</span> <span style="color: #208080;">0xFFFF</span><span style="color: #008080;">;</span> <span style="color: #666666;">//  interrupt flags</span>\r\n<span style="color: #000040;">*</span>IMR <span style="color: #000080;">=</span> <span style="color: #208080;">0X0</span><span style="color: #008080;">;</span> <span style="color: #666666;">//zero all flags</span>\r\n<span style="color: #000040;">*</span>SCSR1 <span style="color: #000080;">=</span> <span style="color: #208080;">0x81FE</span><span style="color: #008080;">;</span> <span style="color: #666666;">//CLKIN=6Mhz,CLKOUT=24Mhz</span>\r\n<span style="color: #000040;">*</span>WDCR <span style="color: #000080;">=</span> <span style="color: #208080;">0xE8</span><span style="color: #008080;">;</span> <span style="color: #666666;">// disable watchdog</span>\r\n<span style="color: #000040;">*</span>T3PER <span style="color: #000080;">=</span> TP<span style="color: #008080;">;</span> <span style="color: #666666;">// General Purpose Timer</span>\r\n<span style="color: #000040;">*</span>T3CON <span style="color: #000080;">=</span> <span style="color: #208080;">0X0802</span><span style="color: #008080;">;</span> <span style="color: #666666;">// enable timer</span>\r\n<span style="color: #000040;">*</span>ACTRB <span style="color: #000080;">=</span> <span style="color: #208080;">0X666</span><span style="color: #008080;">;</span> <span style="color: #666666;">// PWM7, 9,11, for lower transistors of the inverter</span>\r\n<span style="color: #666666;">// for upper transistros PWM8,10,12 enable</span>\r\n<span style="color: #000040;">*</span>COMCONB <span style="color: #000080;">=</span> <span style="color: #208080;">0X9200</span><span style="color: #008080;">;</span>\r\n<span style="color: #000040;">*</span>EVBIMRA <span style="color: #000080;">=</span> <span style="color: #208080;">0X00</span><span style="color: #008080;">;</span> \r\n<span style="color: #000040;">*</span>T3CNT <span style="color: #000080;">=</span> <span style="color: #208080;">0X00</span><span style="color: #008080;">;</span>\r\n<span style="color: #000040;">*</span>EVBIFRA <span style="color: #000080;">=</span> <span style="color: #208080;">0x0FFFF</span><span style="color: #008080;">;</span>\r\n<span style="color: #000040;">*</span>MCRC <span style="color: #000080;">=</span><span style="color: #000040;">*</span> MCRC<span style="color: #000040;">|</span><span style="color: #208080;">0X7E</span><span style="color: #008080;">;</span> <span style="color: #666666;">//PWM7-PWM12 enable</span>\r\n<span style="color: #000040;">*</span>WSGR <span style="color: #000080;">=</span> <span style="color: #208080;">0x0000</span><span style="color: #008080;">;</span> <span style="color: #666666;">//subroutine standby</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #666666;">// subroutine that calculates the components of</span>\r\n<span style="color: #666666;">//the vector refernce</span>\r\n<span style="color: #0000ff;">void</span> calu<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">int</span> i<span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span><span style="color: #0000dd;">200</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\nualfa <span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> KP <span style="color: #000040;">*</span> <span style="color: #0000dd;">cos</span> <span style="color: #008000;">&#40;</span>INIA<span style="color: #000040;">*</span>i<span style="color: #000040;">*</span> DETA<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>\r\nubeta <span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000080;">=</span> KP <span style="color: #000040;">*</span> <span style="color: #0000dd;">sin</span> <span style="color: #008000;">&#40;</span>INIA<span style="color: #000040;">*</span>i<span style="color: #000040;">*</span> DETA<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #666666;">// subroutine that determines the</span>\r\n<span style="color: #666666;">//sector of the vector refernce.</span>\r\n<span style="color: #0000ff;">void</span> SECTOR <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">int</span> i, a, b, c<span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">float</span> vref1, vref2, vref3<span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">for</span><span style="color: #008000;">&#40;</span>i<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>i<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">200</span><span style="color: #008080;">;</span>i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\nvref1<span style="color: #000080;">=</span>ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span><span style="color: #666666;">//we calculate the 3-phase vectors reference.</span>\r\nvref2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000040;">+</span>ualfa<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000040;">*</span><span style="color:#800080;">1.732051</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">/</span><span style="color: #0000dd;">2</span><span style="color: #008080;">;</span>\r\nvref3<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000040;">-</span>ualfa<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000040;">*</span><span style="color:#800080;">1.732051</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">/</span><span style="color: #0000dd;">2</span><span style="color: #008080;">;</span>\r\n<span style="color: #666666;">//We calculate which phase is on.</span>\r\n<span style="color: #0000ff;">if</span><span style="color: #008000;">&#40;</span>vref1<span style="color: #000080;">&gt;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>\r\na<span style="color: #000080;">=</span><span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">else</span>\r\na<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #0000ff;">if</span><span style="color: #008000;">&#40;</span>vref2<span style="color: #000080;">&gt;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>\r\nb<span style="color: #000080;">=</span><span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">else</span>\r\nb<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #0000ff;">if</span><span style="color: #008000;">&#40;</span>vref3<span style="color: #000080;">&gt;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>\r\nc<span style="color: #000080;">=</span><span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">else</span>\r\nc<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span>\r\na<span style="color: #000080;">=</span><span style="color: #0000dd;">4</span><span style="color: #000040;">*</span>c<span style="color: #000040;">+</span><span style="color: #0000dd;">2</span><span style="color: #000040;">*</span>b<span style="color: #000040;">+</span>a<span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">switch</span><span style="color: #008000;">&#40;</span>a<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">2</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">5</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">3</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">4</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">6</span><span style="color: #008080;">:</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #0000dd;">4</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">default</span><span style="color: #008080;">:</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span><span style="color: #666666;">//we find the sector</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #666666;">//main program</span>\r\nmain<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">int</span>\r\nanticlk<span style="color: #008000;">&#91;</span><span style="color: #0000dd;">6</span><span style="color: #008000;">&#93;</span><span style="color: #000080;">=</span><span style="color: #008000;">&#123;</span><span style="color: #208080;">0x1666</span>,<span style="color: #208080;">0x3666</span>,<span style="color: #208080;">0x2666</span>,<span style="color: #208080;">0x6666</span>,<span style="color: #208080;">0x4666</span>,<span style="color: #208080;">0x5666</span><span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span>\r\n<span style="color: #666666;">//store the vectors reference in memory.</span>\r\n<span style="color: #0000ff;">int</span> i,k<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>,cmp1,cmp2<span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">float</span> x,y,z<span style="color: #008080;">;</span> \r\n<span style="color: #666666;">//calls of subroutine</span>\r\ninitial<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>\r\ncalu<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>\r\nSECTOR <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">while</span> <span style="color: #008000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">for</span> <span style="color: #008000;">&#40;</span>i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span><span style="color: #0000dd;">200</span><span style="color: #008080;">;</span> i<span style="color: #000040;">++</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>\r\n<span style="color: #000040;">*</span>ACTRB <span style="color: #000080;">=</span> anticlk <span style="color: #008000;">&#91;</span>sector <span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span> <span style="color: #666666;">//loads vectors reference</span>\r\n<span style="color: #666666;">//on comparator</span>\r\nx <span style="color: #000080;">=</span> ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>\r\ny <span style="color: #000080;">=</span> <span style="color: #008000;">&#40;</span><span style="color:#800080;">1.732051</span> <span style="color: #000040;">*</span> ualfa<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000040;">+</span>ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">/</span> <span style="color: #0000dd;">2</span><span style="color: #008080;">;</span>\r\nz <span style="color: #000080;">=</span> <span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span><span style="color:#800080;">1.732051</span> <span style="color: #000040;">*</span> ualfa<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #000040;">+</span>ubeta<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #000040;">/</span> <span style="color: #0000dd;">2</span><span style="color: #008080;">;</span><span style="color: #666666;">//3 phase</span>\r\n<span style="color: #666666;">//variables calculation based on clarke transformation.</span>\r\n&nbsp;\r\n<span style="color: #0000ff;">switch</span><span style="color: #008000;">&#40;</span>sector<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span>\r\n<span style="color: #008000;">&#123;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">0</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>z<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>x<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">1</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>y<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>z<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">2</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>x<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>y<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">3</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>z<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>x<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">4</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>y<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>z<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">5</span> <span style="color: #008080;">:</span>cmp1<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">-</span>x<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span>,cmp2<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>y<span style="color: #000040;">*</span>TP<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">default</span> <span style="color: #008080;">:</span> <span style="color: #0000ff;">break</span><span style="color: #008080;">;</span>\r\n<span style="color: #008000;">&#125;</span><span style="color: #666666;">// multiply the carrier with the two </span>\r\n<span style="color: #666666;">//signals they are on  each phase based on</span>\r\n<span style="color: #666666;">//3 phase  inverter table to calculate</span>\r\n<span style="color: #666666;">//the active state.</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #000040;">*</span>CMPR4<span style="color: #000080;">=</span>cmp1<span style="color: #008080;">;</span>\r\n&nbsp;\r\n<span style="color: #666666;">//</span>\r\n<span style="color: #000040;">*</span>CMPR5<span style="color: #000080;">=</span>cmp1<span style="color: #000040;">+</span>cmp2<span style="color: #008080;">;</span><span style="color: #666666;">//the compare of the</span>\r\n<span style="color: #666666;">//two active states give us the Uout.</span>\r\n.\r\n<span style="color: #0000ff;">if</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#40;</span>i<span style="color: #000040;">+</span>k<span style="color: #008000;">&#41;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span><span style="color: #000040;">*</span>T3CON<span style="color: #000080;">=</span><span style="color: #000040;">*</span>T3CON<span style="color: #000040;">|</span><span style="color: #208080;">0X040</span><span style="color: #008080;">;</span><span style="color: #008000;">&#125;</span>\r\n<span style="color: #0000ff;">while</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span>\r\n&nbsp;\r\n<span style="color: #008000;">&#123;</span>\r\nk<span style="color: #000080;">=</span><span style="color: #000040;">*</span>EVBIFRA<span style="color: #000040;">&amp;</span><span style="color: #208080;">0X0200</span><span style="color: #008080;">;</span>\r\n<span style="color: #0000ff;">if</span><span style="color: #008000;">&#40;</span>k<span style="color: #000080;">==</span><span style="color: #208080;">0x0200</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><span style="color: #0000ff;">break</span><span style="color: #008080;">;</span><span style="color: #008000;">&#125;</span> <span style="color: #666666;">//loop of service</span>\r\n<span style="color: #666666;">//interrupt.</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n<span style="color: #008000;">&#125;</span>\r\n&nbsp;</pre></div>', '2013-03-15 06:27:52', 0);

-- --------------------------------------------------------

--
-- Table structure for table `entry_category`
--

CREATE TABLE IF NOT EXISTS `entry_category` (
  `category_id` int(11) NOT NULL AUTO_INCREMENT,
  `category_name` varchar(150) NOT NULL,
  `slug` varchar(150) NOT NULL,
  PRIMARY KEY (`category_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=12 ;

--
-- Dumping data for table `entry_category`
--

INSERT INTO `entry_category` (`category_id`, `category_name`, `slug`) VALUES
(9, 'Ajax Live Search ', 'ajax-live-search-'),
(10, 'Shopping Cart with PayPal Button', 'shopping-cart-with-paypal-button'),
(11, 'Space Vector PWM with embedded C on TI DSP', 'space-vector-pwm-with-embedded-c-on-ti-dsp');

-- --------------------------------------------------------

--
-- Table structure for table `entry_relationships`
--

CREATE TABLE IF NOT EXISTS `entry_relationships` (
  `relationship_id` int(11) NOT NULL AUTO_INCREMENT,
  `object_id` int(11) NOT NULL,
  `category_id` int(11) NOT NULL,
  PRIMARY KEY (`relationship_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=8 ;

--
-- Dumping data for table `entry_relationships`
--

INSERT INTO `entry_relationships` (`relationship_id`, `object_id`, `category_id`) VALUES
(1, 1, 9),
(2, 2, 9),
(3, 3, 9),
(4, 4, 9),
(5, 5, 10),
(6, 6, 11),
(7, 7, 11);

-- --------------------------------------------------------

--
-- Table structure for table `groups`
--

CREATE TABLE IF NOT EXISTS `groups` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  `description` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3 ;

--
-- Dumping data for table `groups`
--

INSERT INTO `groups` (`id`, `name`, `description`) VALUES
(1, 'admin', 'Administrator'),
(2, 'members', 'General User');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `ip_address` int(10) unsigned NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(40) NOT NULL,
  `salt` varchar(40) DEFAULT NULL,
  `email` varchar(100) NOT NULL,
  `activation_code` varchar(40) DEFAULT NULL,
  `forgotten_password_code` varchar(40) DEFAULT NULL,
  `remember_code` varchar(40) DEFAULT NULL,
  `created_on` int(11) unsigned NOT NULL,
  `last_login` int(11) unsigned DEFAULT NULL,
  `active` tinyint(1) unsigned DEFAULT NULL,
  `first_name` varchar(50) DEFAULT NULL,
  `last_name` varchar(50) DEFAULT NULL,
  `company` varchar(100) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2 ;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `ip_address`, `username`, `password`, `salt`, `email`, `activation_code`, `forgotten_password_code`, `remember_code`, `created_on`, `last_login`, `active`, `first_name`, `last_name`, `company`, `phone`) VALUES
(1, 2130706433, 'administrator', '59beecdf7fc966e2f17fd8f65a4a9aeb09d4a3d4', '9462e8eee0', 'admin@admin.com', '', NULL, '9d029802e28cd9c768e8e62277c0df49ec65c48c', 1268889823, 1364167316, 1, 'Admin', 'istrator', 'ADMIN', '0');

-- --------------------------------------------------------

--
-- Table structure for table `users_groups`
--

CREATE TABLE IF NOT EXISTS `users_groups` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` mediumint(8) unsigned NOT NULL,
  `group_id` mediumint(8) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3 ;

--
-- Dumping data for table `users_groups`
--

INSERT INTO `users_groups` (`id`, `user_id`, `group_id`) VALUES
(1, 1, 1),
(2, 1, 2);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
